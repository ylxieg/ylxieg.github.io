<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[JenkinsæŒç»­æ„å»º-é‡‡å‘å¤§å…¨-Macç‰ˆ]]></title>
    <url>%2F2018%2F05%2F30%2FJenkins%2F</url>
    <content type="text"><![CDATA[Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºç›‘æ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚(ç™¾åº¦ç™¾ç§‘ğŸ¤¦â€â™€ï¸) Jenkinså®‰è£…Jenkinså®˜ç½‘ä¸‹è½½ é€‰æ‹©ç›¸å¯¹åº”çš„ç¯å¢ƒä¸‹è½½ æ‰“å¼€ä¸‹è½½å¥½çš„.pkgæ–‡ä»¶ã€ç‹‚ç‚¹ä¸‹ä¸€æ­¥å³å¯å®‰è£…å®Œæˆåç³»ç»Ÿä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªJenkinsç”¨æˆ·ï¼ŒJenkinsè´¦æˆ·å¯†ç å¯åœ¨ ç³»ç»Ÿåå¥½è®¾ç½®-ç”¨æˆ· ä¸ç¾¤ç»„-å…¶ä»–ç”¨æˆ·-ç®¡ç†å‘˜-æ›´æ”¹å¯†ç  é‡æ–°è®¾ç½® å®‰è£…å®Œæˆåä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€å¦‚æœªæ‰“å¼€å¯æ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:8080/login?from=%2F ç‚¹å‡»Finder: æŒ‰çº¢å­—æç¤ºè·¯å¾„æ— æ³•æ‰“å¼€Finder,æ˜¯å› ä¸ºsecretsè®¿é—®æƒé™é—®é¢˜ã€‚æŒ‰çº¢è‰²æ¡†æç¤ºè¾“å…¥ç”µè„‘å¯†ç è§£é”ä¿®æ”¹æ–‡ä»¶å¤¹æƒé™å’ŒinitialAdminPasswordæ–‡ä»¶æƒé™å³å¯è®¿é—®$ command+shift+G: /Users/Shared/Jenkins/Home/ å¤åˆ¶initialAdminPasswordå†…å¯†ç åˆ°è¾“å…¥æ¡†ç‚¹ç»§ç»­è¿›è¡Œä¸‹ä¸€æ­¥ æ­¤å¤„æ˜¯ä¸ªbugã€‚æç¤ºJenkinså®ä¾‹ç¦»çº¿ã€æ— æ³•è·å–æ’ä»¶ã€‚ã€ä¸è¦è·³è¿‡æ’ä»¶å®‰è£…ã€‘ å¦‚æ­£å¸¸è¯·çœ‹ç¬¬9æ­¥éª¤ æ–°æ‰“å¼€ä¸€ä¸ªtabé¡µï¼Œè¾“å…¥ç½‘å€http://localhost:8080/pluginManager/advanced,æœ€ä¸‹é¢æœ‰ä¸ªã€å‡çº§ç«™ç‚¹ã€‘ï¼ŒæŠŠå…¶ä¸­çš„é“¾æ¥æ”¹æˆhttp://updates.jenkins.io/update-center.jsonå°±å¥½äº†ã€‚ æ›´æ¢å®Œæˆåç‚¹å‡»ç«‹å³è·å–ã€‚å¦‚è·å–æˆåŠŸåˆ™ä¼šæç¤º xxç§’ä¹‹å‰è·å–äº†æ›´æ–°ä¿¡æ¯ã€‚ æ­¤æ—¶åˆ·æ–°Jenkinsé¡µé¢è¿˜æ˜¯ä¼šæç¤ºç¦»çº¿ï¼Œæ‰“å¼€ã€æ´»åŠ¨ç›‘è§†å™¨ã€‘æœç´¢javaï¼Œç„¶åå¼ºåˆ¶é€€å‡ºã€‚å…³é—­javaæœåŠ¡åå†åˆ·æ–°é¡µé¢å°±æ˜¾ç¤ºæ­£å¸¸äº†ã€‚ æ­¤æ—¶ä¸ºæ­£å¸¸æ˜¾ç¤ºé¡µé¢ï¼ŒæŒ‰éœ€æ±‚é€‰æ‹©å®‰è£…æ¨èæˆ–è‡ªå®šä¹‰å®‰è£…å³å¯ å®‰è£…å®Œæˆååˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ· åˆ›å»ºå®Œæˆåç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œè¿›å…¥Jenkinsã€‚æ­¤æ—¶Jenkinså·²å®‰è£…å®Œæˆã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>æŒç»­æ„å»º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€ä¸ªéå¸¸ç®€æ´å¥½ç”¨çš„UIbuttonæ‰©å±•,å¿«é€Ÿè®¾ç½®buttonçš„imageä½ç½®]]></title>
    <url>%2F2018%2F04%2F18%2FUIButton-Category%2F</url>
    <content type="text"><![CDATA[è½¬è‡ªtbl00cå¼€æºçš„ä¸€ä¸ªåŸºç¡€ç»„ä»¶åº“GitHub1234567891011121314151617181920212223242526UIButton+Extensions.h#import &lt;UIKit/UIKit.h&gt;typedef NS_ENUM(NSInteger, TLButtonImagePosition) &#123; TLButtonImagePositionLeft = 0, //å›¾ç‰‡åœ¨å·¦ï¼Œæ–‡å­—åœ¨å³ï¼Œé»˜è®¤ TLButtonImagePositionRight = 1, //å›¾ç‰‡åœ¨å³ï¼Œæ–‡å­—åœ¨å·¦ TLButtonImagePositionTop = 2, //å›¾ç‰‡åœ¨ä¸Šï¼Œæ–‡å­—åœ¨ä¸‹ TLButtonImagePositionBottom = 3, //å›¾ç‰‡åœ¨ä¸‹ï¼Œæ–‡å­—åœ¨ä¸Š&#125;;@interface UIButton (Extensions)/** * imageå’Œtitleå›¾æ–‡æ··æ’ * * @param position å›¾ç‰‡çš„ä½ç½®ï¼Œé»˜è®¤left * @param spacing å›¾ç‰‡å’Œæ ‡é¢˜çš„é—´éš” * * @return è¿”å›buttonæœ€å°çš„size * * æ³¨æ„ï¼Œéœ€è¦å…ˆè®¾ç½®å¥½imageã€titleã€fontã€‚ç½‘ç»œå›¾ç‰‡éœ€è¦ä¸‹è½½å®Œæˆåå†è°ƒç”¨æ­¤æ–¹æ³•ï¼Œæˆ–è®¾ç½®åŒå¤§å°çš„placeholder */- (CGSize)setButtonImagePosition:(TLButtonImagePosition)position spacing:(CGFloat)spacing;@end 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647UIButton+Extensions.m@implementation UIButton (Extensions)- (CGSize)setButtonImagePosition:(TLButtonImagePosition)position spacing:(CGFloat)spacing&#123; CGSize imageSize = self.imageView.image.size; CGSize titleSize = [self.titleLabel.text sizeWithAttributes:@&#123;NSFontAttributeName : self.titleLabel.font&#125;]; CGSize buttonSize = CGSizeZero; if (position == TLButtonImagePositionLeft || position == TLButtonImagePositionRight) &#123; if (position == TLButtonImagePositionLeft) &#123; self.imageEdgeInsets = UIEdgeInsetsMake(0, -spacing/2, 0, spacing/2); self.titleEdgeInsets = UIEdgeInsetsMake(0, spacing/2, 0, -spacing/2); &#125; else &#123; self.imageEdgeInsets = UIEdgeInsetsMake(0, titleSize.width + spacing/2, 0, -(titleSize.width + spacing/2)); self.titleEdgeInsets = UIEdgeInsetsMake(0, -(imageSize.height + spacing/2), 0, imageSize.height + spacing/2); &#125; buttonSize.width = imageSize.width + titleSize.width + spacing; buttonSize.height = MAX(imageSize.height, titleSize.height); &#125; else &#123; CGFloat imageOffsetX = titleSize.width &gt; imageSize.width ? (titleSize.width - imageSize.width) / 2.0 : 0; CGFloat imageOffsetY = imageSize.height / 2; CGFloat titleOffsetXR = titleSize.width &gt; imageSize.width ? 0 : (imageSize.width - titleSize.width) / 2.0; CGFloat titleOffsetX = imageSize.width + titleOffsetXR; CGFloat titleOffsetY = titleSize.height / 2; if (position == TLButtonImagePositionTop) &#123; self.imageEdgeInsets = UIEdgeInsetsMake(-imageOffsetY, imageOffsetX, imageOffsetY, -imageOffsetX); self.titleEdgeInsets = UIEdgeInsetsMake(titleOffsetY, -titleOffsetX, -titleOffsetY, -titleOffsetXR); &#125; else &#123; self.imageEdgeInsets = UIEdgeInsetsMake(imageOffsetY, imageOffsetX, -imageOffsetY, -imageOffsetX); self.titleEdgeInsets = UIEdgeInsetsMake(-titleOffsetY, -titleOffsetX, titleOffsetY, -titleOffsetXR); &#125; buttonSize.width = MAX(imageSize.width, titleSize.width); buttonSize.height = imageSize.height + titleSize.height + spacing; &#125; return buttonSize;&#125;@end]]></content>
      <categories>
        <category>è½¬è½½</category>
      </categories>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSå¸¸è§é¢è¯•é¢˜]]></title>
    <url>%2F2018%2F04%2F16%2FInterview%2F</url>
    <content type="text"><![CDATA[å†…å­˜ç®¡ç† è¯´ä¸€ä¸‹å†…å­˜ç®¡ç†ä¸­ä½ ç»å¸¸ç”¨çš„å‡ ä¸ªä¿®é¥°ç¬¦assign â€œè®¾ç½®æ–¹æ³•â€ åªä¼šæ‰§è¡Œé’ˆå¯¹â€œçº¯é‡â€çš„ç®€å•èµ‹å€¼æ“ä½œã€‚strong æ­¤ç‰¹è´¨è¡¨æ˜è¯¥å±æ€§å®šä¹‰äº†ä¸€ç§â€œæ‹¥æœ‰å…³ç³»â€ã€‚ä¸ºè¿™ç§å±æ€§è®¾ç½®æ–°å€¼æ—¶ï¼Œè®¾ç½®æ–¹æ³•ä¼šå…ˆä¿ç•™æ–°å€¼ï¼Œå¹¶é‡Šæ”¾æ—§å€¼ï¼Œç„¶åå†å°†æ–°å€¼è®¾ç½®ä¸Šå»ã€‚weak æ­¤ç‰¹è´¨è¡¨æ˜è¯¥å±æ€§å®šä¹‰äº†ä¸€ç§â€œéæ‹¥æœ‰å…³ç³»â€ã€‚ä¸ºè¿™ç§å±æ€§è®¾ç½®æ–°å€¼æ—¶ï¼Œè®¾ç½®æ–¹æ³•æ—¢ä¸ä¿ç•™æ–°å€¼ï¼Œä¹Ÿä¸é‡Šæ”¾æ—§å€¼ã€‚æ­¤ç‰¹è´¨åŒassignç±»ä¼¼ï¼Œç„¶è€Œåœ¨å±æ€§æ‰€æŒ‡çš„å¯¹è±¡é­åˆ°æ¨æ¯æ—¶ï¼Œå±æ€§å€¼ä¹Ÿä¼šæ¸…ç©ºã€‚assigin å¯ä»¥ç”¨éOCå¯¹è±¡,è€Œweakå¿…é¡»ç”¨äºOCå¯¹è±¡ã€‚åœ¨ARCä¸­ï¼Œåœ¨æœ‰å¯èƒ½å‡ºç°å¾ªç¯å¼•ç”¨çš„æ—¶å€™ï¼Œå¾€å¾€è¦é€šè¿‡è®©å…¶ä¸­ä¸€ç«¯ä½¿ç”¨weakæ¥è§£å†³ã€‚æ¯”å¦‚delegateä»£ç†ã€‚è‡ªèº«å·²ç»å¯¹å®ƒè¿›è¡Œä¸€æ¬¡å¼ºå¼•ç”¨,æ²¡æœ‰å¿…è¦å†å¼ºå¼•ç”¨ä¸€æ¬¡,æ­¤æ—¶ä¹Ÿä¼šä½¿ç”¨weak,è‡ªå®šä¹‰IBOutletæ§ä»¶å±æ€§ä¸€èˆ¬ä¹Ÿä½¿ç”¨weakï¼›å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨strongã€‚unsafe_unretained æ­¤ç‰¹è´¨çš„è¯­ä¹‰å’Œassignç›¸åŒï¼Œä½†æ˜¯å®ƒé€‚ç”¨äºâ€œå¯¹è±¡ç±»å‹â€ï¼Œè¯¥ç‰¹è´¨è¡¨è¾¾ä¸€ç§â€œéæ‹¥æœ‰å…³ç³»â€ï¼Œå½“ç›®æ ‡å¯¹è±¡é­åˆ°æ¨æ¯æ—¶ï¼Œå±æ€§å€¼ä¸ä¼šè‡ªåŠ¨æ¸…ç©ºï¼Œè¿™ä¸€ç‚¹ä¸weakæœ‰åŒºåˆ«ã€‚copy æ­¤ç‰¹è´¨æ‰€è¡¨è¾¾çš„æ‰€å±å…³ç³»ä¸strongç±»ä¼¼ã€‚ç„¶è€Œè®¾ç½®æ–¹æ³•å¹¶ä¸ä¿ç•™æ–°å€¼ï¼Œè€Œæ˜¯è®¾ç½®æ–¹æ³•å¹¶ä¸ä¿ç•™æ–°å€¼ï¼Œè€Œæ˜¯å°†å…¶â€œæ‹·è´â€ã€‚å½“å±æ€§ç±»å‹ä¸ºNSString*æ—¶ï¼Œç»å¸¸ç”¨æ­¤ç‰¹è´¨æ¥ä¿æŠ¤å…¶å°è£…æ€§ï¼Œå› ä¸ºä¼ é€’ç»™è®¾ç½®æ–¹æ³•çš„æ–°å€¼æœ‰å¯èƒ½æŒ‡å‘ä¸€ä¸ªNSMutableStringç±»çš„å®ä¾‹ã€‚è¿™ä¸ªç±»æ˜¯NSStringçš„å­ç±»ï¼Œè¡¨ç¤ºä¸€ç§å¯ä»¥ä¿®æ”¹å…¶å€¼çš„å­—ç¬¦ä¸²ï¼Œæ­¤æ—¶è‹¥æ˜¯ä¸æ‹·è´å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè®¾ç½®å®Œå±æ€§ä¹‹åï¼Œå­—ç¬¦ä¸²çš„å€¼å°±å¯èƒ½ä¼šåœ¨å¯¹è±¡ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹é­äººæ›´æ”¹ã€‚æ‰€ä»¥ï¼Œè¿™æ—¶å°±è¦æ‹·è´ä¸€ä»½â€œä¸å¯å˜â€çš„å­—ç¬¦ä¸²ï¼Œç¡®ä¿å¯¹è±¡ä¸­çš„å­—ç¬¦ä¸²å€¼ä¸ä¼šæ— æ„é—´å˜åŠ¨ã€‚åªè¦å®ç°å±æ€§æ‰€ç”¨çš„å¯¹è±¡æ˜¯â€œå¯å˜çš„â€ï¼Œå°±åº”è¯¥åœ¨è®¾ç½®æ–°å±æ€§å€¼æ—¶æ‹·è´ä¸€ä»½ã€‚NSStringã€NSArrayã€NSDictionaryå¯å˜ç±»å‹å¸¸ç”¨copyï¼Œblockä¹Ÿå¸¸ç”¨copy Nsstringç”¨copyçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢NSStringè¢«ä¿®æ”¹ã€‚NSMutableStringæ˜¯NSStrigçš„å­ç±»ï¼Œå½“NSStringçš„èµ‹å€¼æ¥æºä¹Ÿæ˜¯NSStringæ—¶ï¼Œstrongå’Œcopyçš„ä½œç”¨ç›¸åŒï¼Œéƒ½æ˜¯ç»™å¤åˆ¶æ¥æºçš„å¼•ç”¨è®¡æ•°åŠ 1ï¼Œå½“NSStrigçš„èµ‹å€¼æ¥æºæ˜¯NSMutableStringæ—¶ï¼Œcopyä¼šåšæ·±æ‹·è´ï¼Œå³é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä¿®æ”¹èµ‹å€¼æ¥æºä¸ä¼šå½±å“NSStringçš„å€¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼šA-&gt;B Aä¸­çš„ä¸€ä¸ªMutableStringç»™Bä¸­çš„ä¸€ä¸ªProperty(NSStringç±»å‹)èµ‹å€¼ é¦–å…ˆæ˜¯èƒ½æ¥å—çš„ï¼Œçˆ¶ç±»å¯ä»¥æ¥å—å­ç±»ï¼Œå¦‚æœæ˜¯strongï¼Œä»…ä»…æ˜¯ç”Ÿæˆä¸€ä¸ªæŒ‡é’ˆï¼Œè®¡æ•°å™¨åŠ ä¸€ï¼Œç„¶åæŒ‡å‘é‚£ä¸ªMutableStringã€‚å¦‚æœNSStringæ”¹å˜ï¼ŒBä¸­é‚£ä¸ªè·Ÿç€æ”¹å˜ï¼Œå› ä¸ºæ˜¯åŒä¸€å—å†…å­˜åŒºåŸŸã€‚è€Œé€‰æ‹©Copyç›¸å½“äºåˆç”Ÿæˆäº†ä¸€ä¸ªNSStringï¼Œä¸Aä¸­çš„MutableStringç‹¬ç«‹ã€‚ Blockä¸ºä»€ä¹ˆä½¿ç”¨copyä¿®é¥°?é»˜è®¤æƒ…å†µä¸‹ï¼Œblockæ˜¯å­˜æ¡£åœ¨æ ˆä¸­ï¼Œå¯èƒ½è¢«éšæ—¶å›æ”¶ï¼Œé€šè¿‡copyæ“ä½œå¯ä»¥ä½¿å…¶åœ¨å †ä¸­ä¿ç•™ä¸€ä»½, ç›¸å½“äºä¸€ç›´å¼ºå¼•ç”¨ç€, é˜²æ­¢å‡ºç°å†…å­˜æ³„éœ²çš„æƒ…å†µã€‚å½“blockä¸­éœ€è¦ç”¨åˆ°selfæ—¶æˆ–è€…è¯´éœ€è¦å¼±å¼•ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡weakæˆ–è€…unsafe_unretained. ä½†æ˜¯å½“éœ€è¦å¼ºåŒ–çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´ï¼Œåœ¨blockä¸­æœ‰å»¶è¿Ÿæ‰§è¡Œçš„æ“ä½œçš„æ—¶å€™å°±å¿…é¡»å°†å…¶å¼±åŒ–ï¼Œéœ€è¦ç”¨__strongæ¥ä¿®é¥°å°±å¯ä»¥äº†ã€‚ **ARCä¸­æ˜¯æ€ä¹ˆå®ç°è‡ªåŠ¨é‡Šæ”¾çš„?è¿™ä¸ªæ—¶å€™æˆ‘è¯´çš„æ˜¯ï¼Œç³»ç»Ÿè‡ªåŠ¨é‡Šæ”¾ï¼Œä½†æ˜¯ä¼šè¿½åŠ è¢«é—®åˆ°ç³»ç»Ÿæ˜¯æ€ä¹ˆé‡Šæ”¾çš„ï¼Œæˆ‘è¯´æ˜¯æ²¡æœ‰å¼•ç”¨è®¡æ•°å°±è‡ªåŠ¨é‡Šæ”¾äº†ï¼Œä½†æ˜¯ä¼šé—®åˆ°ï¼Œç³»ç»Ÿæ˜¯æ€ä¹ˆçŸ¥é“å¼•ç”¨è®¡æ•°ä¸ºé›¶éœ€è¦é‡Šæ”¾äº†ï¼Œè¿™ä¸ªæ‰æ˜¯é—®é¢˜çš„å…³é”®ï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥å›ç­”è¯´ï¼Œè¿™æ˜¯è¢«runloopæ§åˆ¶çš„ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½æœ‰è‡ªå·±çš„çº¿ç¨‹æ¥å®Œæˆï¼Œè€Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±å¯¹äºçš„runloopï¼Œå½“ä¸€ä¸ªä»»åŠ¡ç»“æŸçš„æ—¶å€™ï¼Œå°±æ˜¯runloopå¾ªç¯ç»“æŸçš„æ—¶å€™ä¼šè®¿é—®å¼•ç”¨è®¡æ•°ï¼Œå°±æ˜¯è¿˜æœ‰æ²¡æœ‰è¢«è®¿é—®ç€ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œå°±è¯´æ˜æ˜¯é›¶äº†ï¼Œå°±ä¼šå‘Šè¯‰ç³»ç»Ÿä¸ºé›¶éœ€è¦é‡Šæ”¾ï¼Œç„¶åå°±ä¼šæ”¾åˆ°è‡ªåŠ¨é‡Šæ”¾æ± ä¸­ç­‰å¾…åœ¨ä¸€å®šçš„æ—¶é—´ä¸€èµ·é‡Šæ”¾æ‰è¿™äº›å¯¹è±¡ã€‚ KVO-KVC ç®€è¿°KVOçš„å®ç°åŸç†ï¼ˆä¸è¦ç®€å•çš„è¯´å‡ºæ–‡å­—åŸç†ï¼Œæ–¹æ³•åä¸€å®šè¦è¯´ï¼‰kvoæ˜¯åŸºäºruntimeæœºåˆ¶å®ç°çš„ï¼Œæ˜¯é€šè¿‡ç›‘å¬å±æ€§æ¥åšç›¸åº”çš„æ“ä½œå½“æŸä¸ªç±»çš„å¯¹è±¡ç¬¬ä¸€æ¬¡è¢«è§‚å¯Ÿæ—¶ï¼Œç³»ç»Ÿä¼šåœ¨å…¶è¿è¡ŒæœŸé—´åŠ¨æ€çš„åˆ›å»ºä¸€ä¸ªå­ç±»ï¼Œåœ¨è¿™ä¸ªå­ç±»ä¸­é‡å†™åŸºç±»ä¸­ä»»ä½•è¢«è§‚å¯Ÿå±æ€§çš„setteræ–¹æ³•ï¼Œåœ¨setæ–¹æ³•ä¸­é€šçŸ¥ç›‘å¬observeã€‚å³é€šè¿‡è°ƒç”¨[self willchangeValueForKey:â€œkeyâ€];å’Œ[self didChangeValueForKey:â€œkeyâ€];è¿™ä¸¤ä¸ªæ–¹æ³•ä¼šä¸»åŠ¨è°ƒç”¨ç›‘å¬è€…å†…éƒ¨çš„-ï¼ˆvoidï¼‰observeValueForKeyPathè¿™ä¸ªæ–¹æ³•ï¼Œä»è€Œå®ç°ç›‘å¬ã€‚ ç®€è¿°KVCçš„å®ç°åŸç†Kvcæ˜¯é—´æ¥é€šè¿‡å­—ç¬¦ä¸²ç±»å‹çš„keyè·å–å¯¹åº”çš„å±æ€§å€¼.KVCçš„ä¼˜ç‚¹å¯ä»¥è®¿é—®ç§æœ‰å±æ€§é—´æ¥ä¿®æ”¹ç§æœ‰å±æ€§å¯ä»¥è®¿é—®idç±»å‹ä»»ä½•ç±»å‹çš„å±æ€§å€¼ valueForKeyå’ŒvalueForKeyPathçš„åŒºåˆ«keyPathåŒ…å«äº†keyçš„åŠŸèƒ½valueForKeyPathå¯ä»¥è®¿é—®å¯¹è±¡çš„å¯¹è±¡ï¼Œä½†æ˜¯valueForKeyä¸å¯ä»¥ï¼Œåªèƒ½è®¿é—®å½“å‰å¯¹è±¡çš„å±æ€§keyPathå¯ä»¥è®¡ç®—æ•°ç»„çš„é•¿åº¦ Block Blockä¸ºä»€ä¹ˆä½¿ç”¨copyä¿®é¥°é»˜è®¤æƒ…å†µä¸‹ï¼Œblockæ˜¯å­˜æ”¾åœ¨æ ˆä¸­ï¼Œå¯èƒ½è¢«éšæ—¶å›æ”¶ï¼Œé€šè¿‡copyæ“ä½œå¯ä»¥ä½¿å…¶åœ¨å †ä¸­ä¿ç•™ä¸€ä»½, ç›¸å½“äºä¸€ç›´å¼ºå¼•ç”¨ç€, é˜²æ­¢å‡ºç°å†…å­˜æ³„éœ²çš„æƒ…å†µã€‚å½“blockä¸­éœ€è¦ç”¨åˆ°selfæ—¶æˆ–è€…è¯´éœ€è¦å¼±å¼•ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡weakæˆ–è€…unsafe_unretained. ä½†æ˜¯å½“éœ€è¦å¼ºåŒ–çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´ï¼Œåœ¨blockä¸­æœ‰å»¶è¿Ÿæ‰§è¡Œçš„æ“ä½œçš„æ—¶å€™å°±å¿…é¡»å°†å…¶å¼±åŒ–ï¼Œéœ€è¦ç”¨__strongæ¥ä¿®é¥°å°±å¯ä»¥äº† å¦‚æœblockä½“å¤–é¢å®šä¹‰ä¸ªä¸€ä¸ªintç±»å‹çš„a=10ï¼Œåœ¨blockä½“é‡Œé¢ä¿®æ”¹a = 20ï¼Œæ­¤æ—¶aæ˜¯å¤šå°‘ï¼Œä¸ºä»€ä¹ˆï¼Œåº”è¯¥æ€ä¹ˆåšaæ˜¯10ï¼Œå› ä¸ºå±€éƒ¨å˜é‡ä¿®é¥°çš„å€¼ï¼Œåœ¨blockä½“é‡Œé¢å–å¾—æ˜¯å€¼ï¼Œè€Œä¸æ˜¯åœ°å€ï¼Œåœ¨åé¢æ— è®ºæ€ä¹ˆä¿®æ”¹éƒ½æ˜¯å–åˆ°æ–°çš„å€¼ï¼Œåº”è¯¥ç”¨__blockæ¥ä¿®é¥°ï¼Œè¿™æ ·å°±æ˜¯å–åœ°å€äº†ã€‚ï¼ˆè¿˜æœ‰çš„é¢è¯•å®˜ä¼šé—®ï¼Œå‡å¦‚åœ¨blockä½“å¤–é¢ç”¨staticä¿®é¥°çš„è¯æˆ–è€…æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰è¿™ä¸ªaå‘¢ï¼Œè¿™ä¸ªæ—¶å€™è®°ä½ä¸€ç‚¹ï¼Œé™¤äº†å±€éƒ¨ä¿®é¥°çš„blockå¤–é¢çš„å€¼æ˜¯å–å€¼ï¼Œåˆ«çš„éƒ½æ˜¯å–å€éƒ½æ˜¯å¯ä»¥å‘ç”Ÿæ”¹å˜çš„ï¼‰ åœ¨blockä¸­æœ‰ä¸€ä¸ªç”¨GCDä¿®é¥°çš„çº¿ç¨‹ï¼Œéœ€è¦å»¶æ—¶åŠ è½½ï¼Œè¿™ä¸ªæ—¶å€™ä¼šä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¯¥æ€ä¹ˆæ“ä½œã€‚ä¼šå¯èƒ½å‡ºç°é‡æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡è¢«æå‰é‡Šæ”¾äº†ï¼Œæ˜¯ä¸ºäº†é¿å…åœ¨ block çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œçªç„¶å‡ºç° self è¢«é‡Šæ”¾çš„å°´å°¬æƒ…å†µã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä¸è¿™ä¹ˆåšçš„è¯ï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“å‡ºç°ä¸€äº›å¥‡æ€ªçš„é€»è¾‘ï¼Œç”šè‡³é—ªé€€.é˜²æ­¢è¿™ä¸ªï¼Œéœ€è¦ç”¨åˆ°__strongæ¥å¼ºå¼•ç”¨ä¸€ä¸‹ã€‚åœ¨å»¶è¿Ÿä¹‹åéœ€è¦ç”¨åˆ°çš„æ—¶å€™ä¸ä¼šè¢«é‡Šæ”¾æ‰ã€‚ ç¬¬ä¸‰æ–¹æ¡†æ¶å’ŒåŸç† ç®€è¿°SDWebImageçš„å®ç°åŸç†ï¼ˆè¿™ä¸ªæ—¶å€™ä¸è¦åªæ˜¯ç­”æ–‡å­—ï¼Œé‡è¦apiéœ€è¦è¯´å‡ºæ¥ï¼‰1) å…¥å£ setImageWithURL:placeholderImage:options: ä¼šå…ˆæŠŠ placeholderImage æ˜¾ç¤ºï¼Œç„¶å SDWebImageManager æ ¹æ® URL å¼€å§‹å¤„ç†å›¾ç‰‡ã€‚2) è¿›å…¥ SDWebImageManager-downloadWithURL:delegate:options:userInfo:ï¼Œäº¤ç»™ SDImageCache ä»ç¼“å­˜æŸ¥æ‰¾å›¾ç‰‡æ˜¯å¦å·²ç»ä¸‹è½½ queryDiskCacheForKey:delegate:userInfo:3) å…ˆä»å†…å­˜å›¾ç‰‡ç¼“å­˜æŸ¥æ‰¾æ˜¯å¦æœ‰å›¾ç‰‡ï¼Œå¦‚æœå†…å­˜ä¸­å·²ç»æœ‰å›¾ç‰‡ç¼“å­˜ï¼ŒSDImageCacheDelegate å›è°ƒimageCache:didFindImage:forKey:userInfo: åˆ° SDWebImageManagerã€‚4) SDWebImageManagerDelegate å›è°ƒ webImageManager:didFinishWithImage: åˆ° UIImageView+WebCache ç­‰å‰ç«¯å±•ç¤ºå›¾ç‰‡ã€‚5) å¦‚æœå†…å­˜ç¼“å­˜ä¸­æ²¡æœ‰ï¼Œç”Ÿæˆ NSInvocationOperation æ·»åŠ åˆ°é˜Ÿåˆ—å¼€å§‹ä»ç¡¬ç›˜æŸ¥æ‰¾å›¾ç‰‡æ˜¯å¦å·²ç»ç¼“å­˜ã€‚6) æ ¹æ® URLKey åœ¨ç¡¬ç›˜ç¼“å­˜ç›®å½•ä¸‹å°è¯•è¯»å–å›¾ç‰‡æ–‡ä»¶ã€‚è¿™ä¸€æ­¥æ˜¯åœ¨ NSOperation è¿›è¡Œçš„æ“ä½œï¼Œæ‰€ä»¥å›ä¸»çº¿ç¨‹è¿›è¡Œç»“æœå›è°ƒ notifyDelegate:ã€‚7) å¦‚æœä¸Šä¸€æ“ä½œä»ç¡¬ç›˜è¯»å–åˆ°äº†å›¾ç‰‡ï¼Œå°†å›¾ç‰‡æ·»åŠ åˆ°å†…å­˜ç¼“å­˜ä¸­ï¼ˆå¦‚æœç©ºé—²å†…å­˜è¿‡å°ï¼Œä¼šå…ˆæ¸…ç©ºå†…å­˜ç¼“å­˜ï¼‰ã€‚8) SDImageCacheDelegate å›è°ƒ imageCache:didFindImage:forKey:userInfo:ã€‚è¿›è€Œå›è°ƒå±•ç¤ºå›¾ç‰‡ã€‚9) å¦‚æœä»ç¡¬ç›˜ç¼“å­˜ç›®å½•è¯»å–ä¸åˆ°å›¾ç‰‡ï¼Œè¯´æ˜æ‰€æœ‰ç¼“å­˜éƒ½ä¸å­˜åœ¨è¯¥å›¾ç‰‡ï¼Œéœ€è¦ä¸‹è½½å›¾ç‰‡, å›è°ƒ imageCache:didNotFindImageForKey:userInfo:ã€‚10) å…±äº«æˆ–é‡æ–°ç”Ÿæˆä¸€ä¸ªä¸‹è½½å™¨ SDWebImageDownloader å¼€å§‹ä¸‹è½½å›¾ç‰‡ã€‚11) å›¾ç‰‡ä¸‹è½½ç”± NSURLConnection æ¥åšï¼Œå®ç°ç›¸å…³ delegate æ¥åˆ¤æ–­å›¾ç‰‡ä¸‹è½½ä¸­ã€ä¸‹è½½å®Œæˆå’Œä¸‹è½½å¤±è´¥ã€‚12) connection:didReceiveData: ä¸­åˆ©ç”¨ ImageIO åšäº†æŒ‰å›¾ç‰‡ä¸‹è½½è¿›åº¦åŠ è½½æ•ˆæœã€‚13) connectionDidFinishLoading: æ•°æ®ä¸‹è½½å®Œæˆåäº¤ç»™ SDWebImageDecoder åšå›¾ç‰‡è§£ç å¤„ç†ã€‚14) å›¾ç‰‡è§£ç å¤„ç†åœ¨ä¸€ä¸ª NSOperationQueue å®Œæˆï¼Œä¸ä¼šæ‹–æ…¢ä¸»çº¿ç¨‹ UIã€‚å¦‚æœæœ‰éœ€è¦å¯¹ä¸‹è½½çš„å›¾ç‰‡è¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼Œæœ€å¥½ä¹Ÿåœ¨è¿™é‡Œå®Œæˆï¼Œæ•ˆç‡ä¼šå¥½å¾ˆå¤šã€‚15) åœ¨ä¸»çº¿ç¨‹ notifyDelegateOnMainThreadWithInfo: å®£å‘Šè§£ç å®Œæˆï¼ŒimageDecoder:didFinishDecodingImage:userInfo: å›è°ƒç»™ SDWebImageDownloaderã€‚imageDownloader:didFinishWithImage: å›è°ƒç»™ SDWebImageManager å‘ŠçŸ¥å›¾ç‰‡ä¸‹è½½å®Œæˆã€‚16) é€šçŸ¥æ‰€æœ‰çš„ downloadDelegates ä¸‹è½½å®Œæˆï¼Œå›è°ƒç»™éœ€è¦çš„åœ°æ–¹å±•ç¤ºå›¾ç‰‡ã€‚17) å°†å›¾ç‰‡ä¿å­˜åˆ° SDImageCache ä¸­ï¼Œå†…å­˜ç¼“å­˜å’Œç¡¬ç›˜ç¼“å­˜åŒæ—¶ä¿å­˜ã€‚å†™æ–‡ä»¶åˆ°ç¡¬ç›˜ä¹Ÿåœ¨ä»¥å•ç‹¬ NSInvocationOperation å®Œæˆï¼Œé¿å…æ‹–æ…¢ä¸»çº¿ç¨‹ã€‚ SDWebImageå†…éƒ¨å¯ä»¥è‡ªå·±æ¸…ç†ç¼“å­˜å—ï¼ŸSDImageCache åœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¼šæ³¨å†Œä¸€äº›æ¶ˆæ¯é€šçŸ¥ï¼Œåœ¨å†…å­˜è­¦å‘Šæˆ–é€€åˆ°åå°çš„æ—¶å€™æ¸…ç†å†…å­˜å›¾ç‰‡ç¼“å­˜ï¼Œåº”ç”¨ç»“æŸçš„æ—¶å€™æ¸…ç†è¿‡æœŸå›¾ç‰‡ SDWebImageæ€ä¹ˆé¢„å…ˆä¸‹è½½å›¾ç‰‡ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨?æä¾›äº†SDWebImagePrefetcher å¯ä»¥é¢„å…ˆä¸‹è½½å›¾ç‰‡ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ã€‚ ä¸‹æ‹‰åˆ·æ–°çš„åŸç†ï¼ˆè¿™ä¸ªç»“åˆcontentInsetå’ŒcontentOffsetç®€å•è¯´è¯´å°±å¯ä»¥äº†ï¼‰å¤§éƒ¨åˆ†çš„ä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼Œéƒ½æ˜¯ç”¨contentInsetå®ç°çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸€ä¸ªUIScrollViewçš„å·¦ä¸Šè§’åœ¨å¯¼èˆªæ çš„æ­£ä¸‹æ–¹ï¼Œé‚£ä¹ˆå®ƒçš„contentInsetæ˜¯64ï¼Œè€ŒcontentOffsetæ˜¯-64ã€‚ç»§ç»­ä¸‹æ‹‰çš„è¯ï¼ŒcontentOffsetå°±ä¼šè¶Šæ¥è¶Šå°ï¼Œå¦‚æœä¸Šæ»‘ï¼ŒcontentOffsetå°±ä¼šå¢å¤§ï¼Œç›´åˆ°å·¦ä¸Šè§’è¾¾åˆ°å±å¹•çš„å·¦ä¸Šè§’æ—¶ï¼ŒcontentOffsetåˆšå¥½ä¸º0é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸‹æ‹‰ä¸€ä¸ªUIScrollViewï¼Œåœ¨æ¾æ‰‹ä¹‹åï¼Œä¼šå¼¹å›åˆå§‹çš„ä½ç½®ï¼ˆå¯¼èˆªæ ä¸‹æ–¹ï¼‰ã€‚è€Œå¤§éƒ¨åˆ†çš„ä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼Œéƒ½æ˜¯å°†è‡ªå·±æ”¾åœ¨UIScrollViewçš„ä¸Šæ–¹ï¼Œèµ·å§‹yè®¾ç½®æˆè´Ÿæ•°ï¼Œæ‰€ä»¥å¹³æ—¶ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œåªæœ‰ä¸‹æ‹‰çš„æ—¶å€™æ‰ä¼šå‡ºç°ï¼Œæ”¾å¼€åˆä¼šå¼¹å›å»ã€‚ç„¶ååœ¨loadingçš„æ—¶å€™ï¼Œä¸´æ—¶æŠŠcontentInsetå¢å¤§ï¼Œç›¸å½“äºæŠŠUIScrollViewå¾€ä¸‹æŒ¤ï¼Œäºæ˜¯ä¸‹æ‹‰åˆ·æ–°çš„æ§ä»¶å°±ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œç„¶ååˆ·æ–°å®Œæˆä¹‹åï¼Œå†æŠŠcontentInsetæ”¹å›åŸæ¥çš„å€¼ï¼Œå®ç°å›å¼¹çš„æ•ˆæœ æ•°æ®å­˜å‚¨ ä¸ºä»€ä¹ˆåº”ç”¨å­˜åœ¨æ²™ç›’ä¸­iOSæœ¬åœ°åŒ–å­˜å‚¨çš„æ•°æ®ä¿å­˜åœ¨æ²™ç›’ä¸­ ï¼Œæ¯ä¸ªåº”ç”¨çš„æ²™ç›’æ˜¯ç‹¬ç«‹ï¼Œç»“æ„æ˜¯ç›¸åŒçš„ï¼Œè¿™æ ·æ¯”è¾ƒå®‰å…¨ï¼ˆæˆ‘æ²¡å›ç­”ä¸Šæ¥ï¼Œé¢è¯•å®˜ç»™è¯´çš„ç­”æ¡ˆï¼Œä¸çŸ¥é“æ­£ç¡®æ€§ï¼‰ å­˜å‚¨æ–¹å¼1ï¼‰Plistå­˜å‚¨ï¼šPlistæ–‡ä»¶çš„Typeå¯ä»¥æ˜¯å­—å…¸NSDictionaryæˆ–æ•°ç»„NSArrayï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥æŠŠå­—å…¸æˆ–æ•°ç»„ç›´æ¥å†™å…¥åˆ°æ–‡ä»¶ä¸­ã€‚NSStringã€NSDataã€NSNumberç­‰ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨writeToFile:atomically:æ–¹æ³•ç›´æ¥å°†å¯¹è±¡å†™å…¥æ–‡ä»¶ä¸­ï¼Œåªæ˜¯Typeä¸ºç©ºã€‚2ï¼‰NSUserDefaultsï¼Œä¸€èˆ¬çš„ç™»å½•æ³¨å†Œçš„æ•°æ®ä¿å­˜è¿™ä¸ªé‡Œé¢3ï¼‰NSKeyedArchiverå½’æ¡£ / NSKeyedUnarchiverè§£æ¡£4) å½’æ¡£å’Œè§£æ¡£ä¼šåœ¨å†™å…¥ã€è¯»å‡ºæ•°æ®ä¹‹å‰è¿›è¡Œåºåˆ—åŒ–ã€ååºåˆ—åŒ–ï¼Œæ•°æ®çš„å®‰å…¨æ€§ç›¸å¯¹é«˜ä¸€äº›ã€‚&emsp;&emsp;1&gt; å¯¹å•ä¸ªç®€å•å¯¹è±¡è¿›è¡Œå½’æ¡£/è§£æ¡£ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨NSArrayï¼ŒNSDictionaryç­‰å¯¹è±¡ã€‚&emsp;&emsp;2&gt; å¯¹å¤šä¸ªå¯¹è±¡è¿›è¡Œå½’æ¡£/è§£æ¡£&emsp;&emsp;3&gt; å½’æ¡£ä¿å­˜è‡ªå®šä¹‰å¯¹è±¡ã€‚å®šä¹‰ä¸€ä¸ªPersonç±»ï¼Œå¦‚æœæƒ³å¯¹personè¿›è¡Œå½’æ¡£è§£æ¡£ï¼Œé¦–å…ˆè¦è®©Personéµå®ˆåè®®ã€‚4ï¼‰SQLite3&emsp;&emsp;1&gt; é¦–å…ˆéœ€è¦æ·»åŠ åº“æ–‡ä»¶libsqlite3.0.tbd&emsp;&emsp;2&gt; å¯¼å…¥å¤´æ–‡ä»¶#import &lt;sqlite3.h&gt;&emsp;&emsp;3&gt; æ‰“å¼€æ•°æ®åº“&emsp;&emsp;4&gt; åˆ›å»ºè¡¨&emsp;&emsp;5&gt; å¯¹æ•°æ®è¡¨è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œ&emsp;&emsp;6&gt; å…³é—­æ•°æ®åº“ FMDBå’ŒCoraDataçš„åŒºåˆ«FMDBæ˜¯ocæ–¹å¼æ¥å°è£…cè¯­è¨€çš„sqliteï¼Œè¿˜æ˜¯éœ€è¦ç¼–å†™sqliteè¯­å¥ï¼ŒCoreDataæ˜¯ocæ–¹å¼æ¥å°è£…cè¯­è¨€çš„sqliteï¼Œä¸ç”¨ç¼–å†™ä»»ä½•sqliteè¯­å¥ï¼Œè‡ªåŠ¨æ ¹æ®å¯¹è±¡ç±»å‹å’Œå±æ€§åç”Ÿæˆå¯¹åº”çš„sqliteè¯­å¥è¿™ä¸¤ä¸ªçš„åŒºåˆ«ï¼šCoreDataä¸ç”¨ç¼–å†™sqliteè¯­å¥ï¼ŒCoreDataæ˜¯ä¸å¯æ§çš„ï¼Œä»¥ä¸ºè‡ªåŠ¨ç”Ÿæˆï¼Œä¼šæœ‰å¾ˆå¤šä¸å¿…è¦çš„å±æ€§ï¼ŒFMDBå¯ä»¥è‡ªå·±æ§åˆ¶ã€‚ ç”¨sqlè¯­å¥æ€ä¹ˆå¢åŠ æˆ–è€…åˆ é™¤ä¸€ä¸ªå­—æ®µ1ï¼‰å¢åŠ è¡¨å­—æ®µï¼šALTER TABLE è¡¨å ADD COLUMNå­—æ®µåå­—æ®µç±»å‹2ï¼‰åˆ é™¤è¡¨å­—æ®µï¼šALTER TABLE è¡¨å DROP COLUMNå­—æ®µå å­—æ®µç±»å‹3ï¼‰xä¿®æ”¹è¡¨å­—æ®µï¼šALTER TABLE è¡¨å RENAME COLUMNæ—§å­—æ®µå to æ–°å­—æ®µå æ²™ç›’ä¸­å­˜å‚¨æ–‡ä»¶éƒ½åŒ…æ‹¬ä»€ä¹ˆï¼Œéƒ½æ˜¯æ€ä¹ˆå­˜æ”¾çš„ï¼ˆæœ‰ä¸€ä¸ªé—®äº†è¿™ä¸ªé—®é¢˜ï¼‰1)Application :å­˜æ”¾ç¨‹åºæºæ–‡ä»¶ï¼Œä¸Šæ¶å‰ç»è¿‡æ•°å­—ç­¾åï¼Œä¸Šæ¶åä¸å¯ä¿®æ”¹2ï¼‰Documentï¼šå¸¸ç”¨ç›®å½•ï¼ŒiCloudå¤‡ä»½ç›®å½•ï¼Œå­˜æ”¾æ•°æ®ï¼Œè¿™é‡Œä¸èƒ½ç¼“å­˜æ–‡ä»¶ï¼Œå¦åˆ™ä¸Šæ¶ä¸è¢«é€šè¿‡3ï¼‰Libraryï¼š&emsp;&emsp;1&gt; Caches:å­˜æ”¾ ä½“ç§¯å¤§åˆä¸éœ€è¦å¤‡ä»½çš„æ•°æ®ï¼ŒSDWebImageç¼“å­˜è·¯å¾„å°±æ˜¯è¿™ä¸ª&emsp;&emsp;2&gt; Preference:è®¾ç½®ç›®å½•ï¼ŒiCloudä¼šå¤‡ä»½è®¾ç½®ä¿¡æ¯4ï¼‰tmpï¼šå­˜æ”¾ä¸´æ—¶æ–‡ä»¶ï¼Œä¸ä¼šè¢«å¤‡ä»½ï¼Œè€Œä¸”è¿™ä¸ªæ–‡ä»¶ä¸‹çš„æ•°æ®æœ‰å¯èƒ½éšæ—¶è¢«æ¸…é™¤çš„å¯èƒ½ Runloopï¼ˆè¿™ä¸ªå…·ä½“æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œçœ‹æ–‡æ¡£å§ï¼‰ å®šä¹‰RunLoopçš„å®è´¨æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œç”¨äºä¿è¯ç¨‹åºçš„æŒç»­è¿è¡Œï¼Œåªæœ‰å½“ç¨‹åºé€€å‡ºçš„æ—¶å€™æ‰ä¼šç»“æŸï¼ˆç”±mainå‡½æ•°å¼€å¯ä¸»çº¿ç¨‹çš„RunLoopï¼‰ ä½œç”¨ä¿æŒç¨‹åºçš„æŒç»­è¿è¡Œå¤„ç†Appä¸­çš„å„ç§äº‹ä»¶ï¼ˆè§¦æ‘¸ã€å®šæ—¶å™¨ã€Selectoräº‹ä»¶ï¼‰èŠ‚çœCPUèµ„æºï¼Œæé«˜ç¨‹åºæ€§èƒ½ï¼ˆè¯¥åšäº‹åšäº‹ï¼Œæ²¡äº‹åšä¼‘æ¯ï¼‰ä½¿ç”¨NSRunLoopï¼ˆé¢å‘å¯¹è±¡ï¼‰æˆ–è€…CFRunLoopRefï¼ˆåº•å±‚Cè¯­è¨€ï¼‰ RunLoopçš„åŸç†RunLoopå¼€å¯ä¸€ä¸ªå¾ªç¯äº‹ä»¶ï¼Œå¹¶æ¥å—è¾“å…¥äº‹ä»¶ï¼Œæ¥å—çš„äº‹ä»¶æ¥è‡ªä¸¤ç§ä¸åŒçš„æ¥æºï¼šè¾“å…¥æºï¼ˆinput sourceï¼‰(ä¼ é€’å¼‚æ­¥äº‹ä»¶)å®šæ—¶æºï¼ˆtimer sourceï¼‰(ä¼ é€’åŒæ­¥äº‹ä»¶)RunLoopæ¥æ”¶åˆ°æ¶ˆæ¯åé‡‡ç”¨handlePortã€customSrcã€mySelectorå’ŒtimerFiredå››ä¸ªæ–¹æ³•å¤„ç†å¯¹åº”çš„äº‹ä»¶å½“RunLoopæ²¡æœ‰æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œåˆ™è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œä»¥ä¿æŒç¨‹åºæŒç»­è¿è¡Œ å¤šçº¿ç¨‹ NSOperationå’ŒGCDçš„åŒºåˆ«1ï¼‰GCDæ˜¯åŸºäºcçš„åº•å±‚apiï¼ŒNSOperationå±äºobject-cç±»ã€‚iosé¦–å…ˆå¼•å…¥çš„æ˜¯NSOperationï¼ŒIOS4ä¹‹åå¼•å…¥äº†GCDå’ŒNSOperationQueueå¹¶ä¸”å…¶å†…éƒ¨æ˜¯ç”¨gcdå®ç°çš„ã€‚2ï¼‰GCDä¼˜ç‚¹ï¼šGCDä¸»è¦ä¸blockç»“åˆä½¿ç”¨ã€‚ä»£ç ç®€æ´é«˜æ•ˆã€‚æ‰§è¡Œæ•ˆç‡ç¨å¾®é«˜ç‚¹ã€‚3ï¼‰NSOperationç›¸å¯¹äºGCDï¼š&emsp;&emsp;1&gt;ï¼ŒNSOperationæ‹¥æœ‰æ›´å¤šçš„å‡½æ•°å¯ç”¨ï¼Œå…·ä½“æŸ¥çœ‹apiã€‚NSOperationQueue æ˜¯åœ¨GCDåŸºç¡€ä¸Šå®ç°çš„ï¼Œåªä¸è¿‡æ˜¯GCDæ›´é«˜ä¸€å±‚çš„æŠ½è±¡ã€‚&emsp;&emsp;2&gt;ï¼Œåœ¨NSOperationQueueä¸­ï¼Œå¯ä»¥å»ºç«‹å„ä¸ªNSOperationä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚&emsp;&emsp;3&gt;NSOperationQueueæ”¯æŒKVOã€‚å¯ä»¥ç›‘æµ‹operationæ˜¯å¦æ­£åœ¨æ‰§è¡Œï¼ˆisExecutedï¼‰ã€æ˜¯å¦ç»“æŸï¼ˆisFinishedï¼‰ï¼Œæ˜¯å¦å–æ¶ˆï¼ˆisCanceldï¼‰&emsp;&emsp;4&gt;GCD åªæ”¯æŒFIFO çš„é˜Ÿåˆ—ï¼Œè€ŒNSOperationQueueå¯ä»¥è°ƒæ•´é˜Ÿåˆ—çš„æ‰§è¡Œé¡ºåºï¼ˆé€šè¿‡è°ƒæ•´æƒé‡ï¼‰ã€‚NSOperationQueueå¯ä»¥æ–¹ä¾¿çš„ç®¡ç†å¹¶å‘ã€NSOperationä¹‹é—´çš„ä¼˜å…ˆçº§ã€‚4)ä½¿ç”¨NSOperationçš„æƒ…å†µï¼šå„ä¸ªæ“ä½œä¹‹é—´æœ‰ä¾èµ–å…³ç³»ã€æ“ä½œéœ€è¦å–æ¶ˆæš‚åœã€å¹¶å‘ç®¡ç†ã€æ§åˆ¶æ“ä½œä¹‹é—´ä¼˜å…ˆçº§ï¼Œé™åˆ¶åŒæ—¶èƒ½æ‰§è¡Œçš„çº¿ç¨‹æ•°é‡.è®©çº¿ç¨‹åœ¨æŸæ—¶åˆ»åœæ­¢/ç»§ç»­ç­‰ã€‚5)ä½¿ç”¨GCDçš„æƒ…å†µï¼šä¸€èˆ¬çš„éœ€æ±‚å¾ˆç®€å•çš„å¤šçº¿ç¨‹æ“ä½œï¼Œç”¨GCDéƒ½å¯ä»¥äº†ï¼Œç®€å•é«˜æ•ˆã€‚ è®¾è®¡æ¨¡å¼ å•ä¾‹ï¼ˆè¿™ä¸ªéœ€è¦ä¼šå†™ï¼Œä¸¤ç§å†™æ³•ï¼Œå¥½å‡ æ¬¡è®©æ‰‹å†™1ï¼‰å†™æ³•ä¸€ï¼š//æä¾›ä¸€ä¸ªstaticä¿®é¥°çš„å…¨å±€å˜é‡ï¼Œå¼ºå¼•ç”¨ç€å·²ç»å®ä¾‹åŒ–çš„å•ä¾‹å¯¹è±¡å®ä¾‹ 123456789101112131415161718192021222324252627282930313233343536static FileManager* sharedInstance = nil;//ç±»æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªå•ä¾‹å¯¹è±¡+(FileManager*) sharedInstance&#123; @synchronized(self) &#123; if (sharedInstance == nil) &#123; sharedInstance = [[self alloc] init]; //æ³¨æ„ï¼šè¿™é‡Œå»ºè®®ä½¿ç”¨self,è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ç±»åToolsï¼ˆè€ƒè™‘ç»§æ‰¿ï¼‰ &#125; &#125; return sharedInstance;&#125;//ä¿è¯æ°¸è¿œåªåˆ†é…ä¸€æ¬¡å­˜å‚¨ç©ºé—´+(id)allocWithZone:(NSZone *)zone&#123; //ä½¿ç”¨åŠ é”çš„æ–¹å¼ï¼Œä¿è¯åªåˆ†é…ä¸€æ¬¡å­˜å‚¨ç©ºé—´ @synchronized(self)&#123; if(sharedInstance == nil)&#123; sharedInstance = [super allocWithZone:zone]; return sharedInstance; // assignment and return on first allocation &#125; &#125; return nil; //on subsequent allocation attempts return nil&#125;//è®©ä»£ç æ›´åŠ çš„ä¸¥è°¨-(id)copyWithZone:(NSZone *)zone&#123; return self;&#125;2ï¼‰å†™æ³•äºŒç”¨GCDstatic SwitchMenuViewModel * segTitles = nil;+(instancetype)sharedSegTitles&#123; static dispatch_once_t once; dispatch_once(&amp;once,^&#123; segTitles = [[SwitchMenuViewModel alloc]init]; &#125;); return segTitles;&#125; é€šçŸ¥NSNotification æ˜¯iOSä¸­ä¸€ä¸ªè°ƒåº¦æ¶ˆæ¯é€šçŸ¥çš„ç±»,é‡‡ç”¨å•ä¾‹æ¨¡å¼è®¾è®¡,åœ¨ç¨‹åºä¸­å®ç°ä¼ å€¼ã€å›è°ƒç­‰åœ°æ–¹åº”ç”¨å¾ˆå¹¿ã€‚åœ¨iOSä¸­ï¼ŒNSNotification &amp; NSNotificationCenteræ˜¯ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°çš„ç”¨äºè·¨å±‚ä¼ é€’æ¶ˆæ¯ã€‚å¯¹ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡æœ‰å¾…æ”¹å˜ï¼Œä¹Ÿä¸çŸ¥é“å¯¹è±¡æ˜¯ä»€ä¹ˆ&emsp;&emsp;1&gt; å‘è§‚å¯Ÿè€…ä¸­å¿ƒæ·»åŠ è§‚å¯Ÿè€… 123456789101112131415161718192021222324252627282930313233-(void)viewWillAppear:(BOOL)animated&#123; [super viewWillAppear:animated]; [self addNotifications];//æ·»åŠ é€šçŸ¥&#125;-(void)addNotifications&#123; //é€€å‡ºä¼ä¸š [[NSNotificationCenter defaultCenter] removeObserver:self name:NT_Exit_Company object:nil]; [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(ExitCompany:) name:NT_Exit_Company object:nil];&#125;// ç§»é™¤é€šçŸ¥-(void)viewWillDisappear:(BOOL)animated &#123; [super viewWillDisappear:animated]; [self removeNotifications];//æ·»åŠ é€šçŸ¥&#125;-(void)removeNotifications&#123; [[NSNotificationCenter defaultCenter]removeObserver:self name:NT_Exit_Company object:nil];&#125;&amp;emsp;&amp;emsp;2&gt; é€šçŸ¥ä¸­å¿ƒå‘è§‚å¯Ÿè€…å‘é€æ¶ˆæ¯[[NSNotificationCenter defaultCenter] postNotificationName:NT_Exit_Company object:dict];&amp;emsp;&amp;emsp;3&gt;å®ç°é€šçŸ¥ä¹‹åçš„æ“ä½œ// æ”¶åˆ°æ¨é€ä¹‹ååˆ·æ–°ç•Œé¢-(void)RefreashHomeVC:(NSNotification *) obj&#123; lable = obj.object; [self ToDetectNetWork];//é‡æ–°åŠ è½½&#125; Runtimeruntimeæ˜¯ä¸€å¥—åº•å±‚çš„Cè¯­è¨€APIï¼Œæ˜¯ä¸€ä¸ªå®ç°Objective-Cè¯­è¨€çš„Cåº“ã€‚å®ƒæ˜¯ä¸€é—¨ç¼–è¯‘å‹è¯­è¨€ã€ä¹Ÿæ˜¯ä¸€é—¨åŠ¨æ€å‹çš„è¯­è¨€ï¼ˆè¿™é‡Œå¼ºè°ƒä¸‹OCæ˜¯é™æ€ç±»å‹è¯­è¨€ï¼‰ï¼ŒOCä¹‹æ‰€ä»¥èƒ½å¤Ÿåšåˆ°å³æ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œåˆèƒ½åšåˆ°åŠ¨æ€è¯­è¨€ï¼Œå°±æ˜¯å¾—ç›Šäºruntimeçš„æœºåˆ¶ã€‚æ‰€è°“runtimeæœºåˆ¶å°±æ˜¯åœ¨Cè¯­è¨€é‡Œè¾¹çš„å‡½æ•°è°ƒç”¨åˆ°äº†OCé‡Œè¾¹å°±å˜æˆäº†å¦å¤–ä¸€ä¸ªåå­—ï¼Œç§°ä¹‹ä¸ºæ¶ˆæ¯å‘é€ã€‚å³objc_msgSendï¼Œè¿™å°±æ˜¯åˆ©ç”¨äº†runtimeçš„æ¶ˆæ¯æœºåˆ¶ç‰¹æ€§ï¼Œå®Œæˆäº†ä¸€ä¸ªåŠ¨æ€è°ƒç”¨çš„è¿‡ç¨‹ã€‚è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„ä½œç”¨ï¼Œå¯ä»¥äº¤æ¢ä¸¤ä¸ªæ–¹æ³•çš„å®ç°ï¼Œä»£ç æ˜¯ï¼šmethod_exchangeImplementations æ€§èƒ½ä¼˜åŒ– ç”¨ARCç®¡ç†å†…å­˜ åœ¨æ­£ç¡®çš„åœ°æ–¹ä½¿ç”¨ reuseIdentifier å°½é‡æŠŠviewsè®¾ç½®ä¸ºé€æ˜ é¿å…è¿‡äºåºå¤§çš„XIB ä¸è¦é˜»å¡ä¸»çº¿ç¨‹ åœ¨Image Viewsä¸­è°ƒæ•´å›¾ç‰‡å¤§å° é€‰æ‹©æ­£ç¡®çš„ä½¿ç”¨Collection é‡ç”¨å’Œå»¶è¿ŸåŠ è½½(lazy load) Views é¿å…æ—¥æœŸæ ¼å¼è½¬æ¢ æ¸²æŸ“æ–¹æ³• å¤„ç†å†…å­˜è­¦å‘Š é¿å…åå¤å¤„ç†æ•°æ® é€‰æ‹©æ­£ç¡®çš„æ•°æ®æ ¼å¼ æ­£ç¡®è®¾å®šèƒŒæ™¯å›¾ç‰‡ å‡å°‘ä½¿ç”¨Webç‰¹æ€§ ä¼˜åŒ–Table View ä½¿ç”¨Autorelease Pool é€‰æ‹©æ˜¯å¦ç¼“å­˜å›¾ç‰‡ NSTimer ï¼ˆè¿™ä¸ªè¢«é—®çš„å¤šï¼‰ Nstimerè®¡æ—¶ä¸€å®šæ˜¯å®‰å…¨çš„å—ï¼Œä¸å®‰å…¨æ€ä¹ˆåŠç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œè€Œä¸”æœ‰æ—¶å€™ä½ ä¼šå‘ç°å®é™…çš„è§¦å‘æ—¶é—´è·Ÿä½ æƒ³è±¡çš„å·®è·è¿˜æ¯”è¾ƒå¤§ã€‚NSTimerä¸æ˜¯ä¸€ä¸ªå®æ—¶ç³»ç»Ÿï¼Œå› æ­¤ä¸ç®¡æ˜¯ä¸€æ¬¡æ€§çš„è¿˜æ˜¯å‘¨æœŸæ€§çš„timerçš„å®é™…è§¦å‘äº‹ä»¶çš„æ—¶é—´å¯èƒ½éƒ½ä¼šè·Ÿæˆ‘ä»¬é¢„æƒ³çš„ä¼šæœ‰å‡ºå…¥ã€‚å·®è·çš„å¤§å°è·Ÿå½“å‰æˆ‘ä»¬ç¨‹åºçš„æ‰§è¡Œæƒ…å†µæœ‰å…³ç³»ï¼Œæ¯”å¦‚å¯èƒ½ç¨‹åºæ˜¯å¤šçº¿ç¨‹çš„ï¼Œè€Œä½ çš„timeråªæ˜¯æ·»åŠ åœ¨æŸä¸€ä¸ªçº¿ç¨‹çš„runloopçš„æŸä¸€ç§æŒ‡å®šçš„runloopmodeä¸­ï¼Œç”±äºå¤šçº¿ç¨‹é€šå¸¸éƒ½æ˜¯åˆ†æ—¶æ‰§è¡Œçš„ï¼Œè€Œä¸”æ¯æ¬¡æ‰§è¡Œçš„modeä¹Ÿå¯èƒ½éšç€å®é™…æƒ…å†µå‘ç”Ÿå˜åŒ–ã€‚å‡è®¾ä½ æ·»åŠ äº†ä¸€ä¸ªtimeræŒ‡å®š2ç§’åè§¦å‘æŸä¸€ä¸ªäº‹ä»¶ï¼Œä½†æ˜¯ç­¾å¥½é‚£ä¸ªæ—¶å€™å½“å‰çº¿ç¨‹åœ¨æ‰§è¡Œä¸€ä¸ªè¿ç»­è¿ç®—(ä¾‹å¦‚å¤§æ•°æ®å—çš„å¤„ç†ç­‰)ï¼Œè¿™ä¸ªæ—¶å€™timerå°±ä¼šå»¶è¿Ÿåˆ°è¯¥è¿ç»­è¿ç®—æ‰§è¡Œå®Œä»¥åæ‰ä¼šæ‰§è¡Œã€‚é‡å¤æ€§çš„timeré‡åˆ°è¿™ç§æƒ…å†µï¼Œå¦‚æœå»¶è¿Ÿè¶…è¿‡äº†ä¸€ä¸ªå‘¨æœŸï¼Œåˆ™ä¼šå’Œåé¢çš„è§¦å‘è¿›è¡Œåˆå¹¶ï¼Œå³åœ¨ä¸€ä¸ªå‘¨æœŸå†…åªä¼šè§¦å‘ä¸€æ¬¡ã€‚ä½†æ˜¯ä¸ç®¡è¯¥timerçš„è§¦å‘æ—¶é—´å»¶è¿Ÿçš„æœ‰å¤šç¦»è°±ï¼Œä»–åé¢çš„timerçš„è§¦å‘æ—¶é—´æ€»æ˜¯å€æ•°äºç¬¬ä¸€æ¬¡æ·»åŠ timerçš„é—´éš™ nstimeråœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåº”è¯¥æ³¨æ„ä»€ä¹ˆ1ï¼‰å¿…é¡»å¾—æŠŠtimeræ·»åŠ åˆ°runloopä¸­ï¼Œå®ƒæ‰ä¼šç”Ÿæ•ˆ2ï¼‰è¦è®©timerç”Ÿæ•ˆï¼Œå¿…é¡»ä¿è¯è¯¥çº¿ç¨‹çš„runloopå·²å¯åŠ¨ï¼Œè€Œä¸”å…¶è¿è¡Œçš„runloopmodeä¹Ÿè¦åŒ¹é…3ï¼‰åˆ’åŠ¨ä¸‹é¢çš„tableviewæ²¡æœ‰å˜åŒ–ï¼Œæ˜¯ä¸ºä»€ä¹ˆï¼Ÿ**ç»å¸¸è¢«é—®åˆ°è¿™ä¸ªé—®é¢˜åœ¨tableviewæ»‘åŠ¨æ—¶timerå°±æ˜¯æ˜¾ç¤ºæš‚åœï¼ŒåŸå› æ˜¯timerçš„è¿™ä¸ªç®€ä¾¿æ„é€ æ–¹æ³•æŠŠtimeråŠ å…¥äº†NSRunLoopDefaultModeä¸Šï¼Œè€Œtableviewåœ¨æ»‘åŠ¨æ—¶åªä¼šå¤„ç†UITrackingRunLoopModeï¼ŒRunLoopå¹¶æ²¡æœ‰å¤„ç†timeräº‹ä»¶ã€‚è§£å†³çš„åŠæ³•æ˜¯å°†timerç»‘å®šåˆ°NSRunLoopCommonModesä¸Šï¼Œé€šè¿‡ä»¥ä¸‹æ–¹æ³•æ„é€ timerï¼šnstimeråœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåº”è¯¥æ³¨æ„ä»€ä¹ˆ å»¶ä¼¸é—®é¢˜: ä»€ä¹ˆæ˜¯æ­»é”ï¼Œä¸¾ä¾‹è¯´æ˜äº’æ–¥é”è§£å†³äº†ç«æ€æ¡ä»¶çš„é—®é¢˜ï¼Œä½†å¾ˆä¸å¹¸åŒæ—¶è¿™ä¹Ÿå¼•å…¥äº†ä¸€äº›å…¶ä»–é—®é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªå°±æ˜¯æ­»é”ã€‚å½“å¤šä¸ªçº¿ç¨‹åœ¨ç›¸äº’ç­‰å¾…ç€å¯¹æ–¹çš„ç»“æŸæ—¶ï¼Œå°±ä¼šå‘ç”Ÿæ­»é”ï¼Œè¿™æ—¶ç¨‹åºå¯èƒ½ä¼šè¢«å¡ä½æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š 12345dispatch_sync(_queue, ^&#123; &amp;emsp;dispatch_sync(_queue, ^&#123; //do something &#125;);&#125;) frameå’Œboundsçš„åŒºåˆ«frameæ˜¯æŒ‡çš„è¯¥viewåœ¨çˆ¶viewåæ ‡ç³»ç»Ÿä¸­çš„ä½ç½®å’Œå¤§å°boundsæ˜¯è¯¥viewåœ¨æœ¬èº«åæ ‡ç³»ç»Ÿä¸­çš„ä½ç½®å’Œå¤§å° ä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼ˆç¬”è¯•ï¼‰ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€åŒæ­¥åºåˆ—ç¼–å·åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥å‘é€çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°åŒæ­¥åºåˆ—ç¼–å·ï¼Œç¡®è®¤å¹¶åŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªåŒæ­¥åºåˆ—ç¼–å·ï¼Œ+ç¡®è®¤æ ‡å¿—ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥æ¥å—çŠ¶æ€ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨å‘é€çš„åŒ…ï¼Œå¹¶å‘æœåŠ¡å™¨å‘é€ç¡®è®¤æ ‡å¿—ï¼Œéšåé“¾æ¥æˆåŠŸã€‚ æœ‰a b c d å››ä¸ªå¼‚æ­¥è¯·æ±‚ï¼Œå¦‚ä½•åœ¨a b c éƒ½å®Œæˆä¹‹åå»æ‰§è¡Œd 1234567891011121) åˆ›å»ºé˜Ÿåˆ—queue dispatch_queue_t queue = (dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT,0))2) åˆ›å»ºç»„group dispatch_group_t group = dispatch_group_creat();3) å°†queueå’ŒgroupåŠ å…¥åˆ°æ‰§è¡Œçš„ä»»åŠ¡ä¸­ å¹¶æ‰§è¡Œa b cdispatch_group_async(group,queue,^&#123;//ä»»åŠ¡a&#125;)dispatch_group_async(group,queue,^&#123;//ä»»åŠ¡b&#125;)dispatch_group_async(group,queue,^&#123;//ä»»åŠ¡c&#125;)4) å®Œäº†ä¹‹åå¼•ç”¨dispatch_group_notify(group,dispatch_get_main_queue()),^&#123; //æ‰§è¡Œdæ“ä½œ&#125;);]]></content>
      <categories>
        <category>é¢è¯•é¢˜</category>
      </categories>
      <tags>
        <tag>é¢è¯•é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘å¸¸è§bug]]></title>
    <url>%2F2018%2F03%2F26%2Fquestion%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶Alamofireã€Kingfisher ç­‰ç­‰æ—¶æŠ¥é”™dyld: Library not loaded Reason: image not found åœ¨Xcodeä¸­çš„Build Phasesä¸­çš„Copy Filesé¡¹ä¸­ï¼Œå°†ä½ è¦å¼•ç”¨çš„frameworkæ‹–åˆ°â€œLinked Frameworks and Librariesâ€œä¸­ æŠŠBuild Phases é‡ŒSocial.frameworkåè¾¹çš„é€‰é¡¹ä¿®æ”¹æˆä¸ºOptionalå°±å¯ä»¥äº† Swift4.0 ä¸­ä½¿ç”¨KVCç»™modelèµ‹å€¼æ—¶æ— æ³•èµ‹å€¼ åœ¨modelä¸­ç»™å±æ€§å‰æ·»åŠ @objcå…³é”®å­— åœ¨iOS 11ä¸Šç»™navigationBarçš„titleViewæ·»åŠ searchBarå¯¼è‡´navigationBaré«˜åº¦å¢é«˜ è‡ªå®šä¹‰ä¸€ä¸ªviewï¼Œç„¶åå°†searchBaræ·»åŠ åˆ°è‡ªå®šä¹‰viewä¸Šï¼Œå†å°†è‡ªå®šä¹‰viewèµ‹å€¼ç»™titleView UISearchBarè¿›å…¥ç¼–è¾‘çŠ¶æ€æ—¶å‘ä¸Šåç§»è®¾ç½®searchController.hidesNavigationBarDuringPresentation = NO; UISearchControllerå–æ¶ˆé®ç›–è’™ç‰ˆè®¾ç½®searchController.dimsBackgroundDuringPresentation = NO; å¦‚ä½•ç›‘å¬UISearchControlleré®ç›–ç‚¹å‡»äº‹ä»¶ç‚¹å‡»é®ç›–æ—¶å°±æ˜¯å°†searchControlleréšè—ã€æ‰€ä»¥ç›‘å¬UISearchControlleræ¶ˆå¤±çš„äº‹ä»¶å³å¯ (void)willDismissSearchController:(UISearchController *)searchController{ // TODO:} è§£å†³tableViewçš„sectionIndexå’ŒsearchBarå†²çªé—®é¢˜æŠŠsearchBaråŠ åœ¨ä¸€ä¸ªUIViewä¸Šï¼Œç„¶åæŠŠUIViewåŠ åœ¨tableHeaderViewä¸Šï¼ŒåŒæ—¶sectionIndexèƒŒæ™¯è‰²è¦æ¸…é™¤ UIView *headerView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, kScreen_width, 56)];[headerView addSubview:self.searchController.searchBar];[self.tableView setTableHeaderView:headerView]; [self.tableView setSectionIndexBackgroundColor:[UIColor clearColor]];]]></content>
      <categories>
        <category>Bug</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo+Coding.net/Githubæ­å»ºè‡ªå·±çš„åšå®¢]]></title>
    <url>%2F2018%2F03%2F02%2FSetBlog%2F</url>
    <content type="text"><![CDATA[å› ä¸ºgitHubæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œè€Œä¸”gitHubä¸è®©ç™¾åº¦çš„çˆ¬è™«çˆ¬å–å†…å®¹ï¼Œå¯¼è‡´äº†æ­å»ºåœ¨gitHubä¸Šçš„åšå®¢è®¿é—®é€Ÿåº¦éå¸¸æ…¢ï¼Œåšå®¢ä¸ä¼šè¢«ç™¾åº¦æœç´¢åˆ°ã€‚æ‰€ä»¥å»ºè®®é€‰æ‹©å›½å†…çš„Coding.netæ¥æ­å»ºåšå®¢ã€‚æ­å»ºæ–¹æ³•å‡ ä¹æ˜¯ä¸€è‡´çš„ã€‚ä¸‹é¢è®²ä¸€ä¸‹å¦‚ä½•åŸºäºCoding.netæ­å»ºè‡ªå·±çš„åšå®¢ã€‚ å®‰è£…Hexo1$ npm install hexo-cli -g åˆå§‹åŒ–blog1$ hexo init blog å¯åŠ¨é¢„è§ˆblog12$ cd blog$ hexo server åœ¨æµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:4000/ æ˜¾ç¤ºå¦‚ä¸‹å›¾å°±æˆåŠŸäº† è®¾ç½®33ç§ä¸»é¢˜æ ·å¼æ­å»ºåšå®¢å¤§å…¨]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F03%2F02%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>è®°äº‹</tag>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F404.html</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE HTML&gt;]]></content>
  </entry>
  <entry>
    <title><![CDATA[å…³äºæœ¬ç«™]]></title>
    <url>%2Fabout%2Findex.html</url>
    <content type="text"><![CDATA[åšå®¢å®—æ—¨: æŠŠæœ€å®ç”¨çš„ç»éªŒï¼Œåˆ†äº«ç»™æœ€éœ€è¦çš„è¯»è€…ï¼Œå¸Œæœ›æ¯ä¸€ä½æ¥è®¿çš„æœ‹å‹éƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Fcategories%2Findex.html</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Ftags%2Findex.html</url>
    <content type="text"></content>
  </entry>
</search>
