<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[2019å¹´é¢è¯•é¢˜(åŸºç¡€)ä»¥åŠç­”æ¡ˆ]]></title>
    <url>%2F2019%2F03%2F24%2F2019%E5%B9%B4%E9%9D%A2%E8%AF%95%E9%A2%98(%E5%9F%BA%E7%A1%80)%E4%BB%A5%E5%8F%8A%E7%AD%94%E6%A1%88%2F</url>
    <content type="text"><![CDATA[é¢å‘å¯¹è±¡åŸºç¡€é¢è¯•é¢˜ é¢å‘å¯¹è±¡çš„å‡ ä¸ªè®¾è®¡åŸåˆ™ï¼Ÿ å•ä¸€èŒè´£ã€å¼€é—­åŸåˆ™ã€é‡Œæ°æ›¿æ¢åŸåˆ™ã€ä¾èµ–å¯¼è‡´åŸåˆ™ã€æ¥å£éš”ç¦»åŸåˆ™ã€è¿ªç±³ç‰¹åŸåˆ™(è®¾è®¡æ¨¡å¼ä¹‹ç¦…ç¬¬ä¸€éƒ¨åˆ†) Hashè¡¨çš„å®ç°ï¼Ÿ å“ˆå¸Œè¡¨ï¼ˆhash tableï¼Œä¹Ÿå«æ•£åˆ—è¡¨ï¼‰ï¼Œæ˜¯æ ¹æ®é”®ï¼ˆkeyï¼‰ç›´æ¥è®¿é—®è®¿é—®åœ¨å†…å­˜å‚¨å­˜ä½ç½®çš„æ•°æ®ç»“æ„ã€‚å“ˆå¸Œè¡¨æœ¬è´¨æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æˆä¸ºä¸€ä¸ªç®±å­ï¼Œç®±å­ä¸­å­˜æ”¾çš„æ˜¯é”®å€¼å¯¹ã€‚æ ¹æ®ä¸‹æ ‡indexä»æ•°ç»„ä¸­å–valueã€‚å…³é”®æ˜¯å¦‚ä½•è·å–indexï¼Œè¿™å°±éœ€è¦ä¸€ä¸ªå›ºå®šçš„å‡½æ•°ï¼ˆå“ˆå¸Œå‡½æ•°ï¼‰ï¼Œå°†keyè½¬æ¢æˆindexã€‚ä¸è®ºå“ˆå¸Œå‡½æ•°è®¾è®¡çš„å¦‚ä½•å®Œç¾ï¼Œéƒ½å¯èƒ½å‡ºç°ä¸åŒçš„keyç»è¿‡hashå¤„ç†åå¾—åˆ°ç›¸åŒçš„hashå€¼ï¼Œè¿™æ—¶å€™å°±éœ€è¦å¤„ç†å“ˆå¸Œå†²çªã€‚ï¼ˆæ‹‰é“¾æ³•å’Œå¼€æ”¾å®šå€çº¿æ€§æ¢æµ‹æ³•ï¼‰ ä»€ä¹ˆæ˜¯è¿›ç¨‹å’Œçº¿ç¨‹ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ çº¿ç¨‹æ˜¯è½»å‹è¿›ç¨‹ï¼Œæ˜¯CPUç‹¬ç«‹è¿è¡Œå’Œç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼› è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œï¼Œæ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼› è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œè€Œçº¿ç¨‹æ˜¯ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œçš„åŸºæœ¬å•ä½ã€‚ç³»ç»Ÿåœ¨è¿è¡Œæ—¶ä¼šä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…å†…å­˜ï¼Œè€Œä¸ä¼šä¸ºçº¿ç¨‹åˆ†é…ã€‚ å†…å­˜çš„å‡ å¤§åŒºåŸŸï¼Ÿå„è‡ªçš„èŒèƒ½ï¼Ÿï¼ˆç”±é«˜åœ°å€å‘ä½åœ°å€ï¼‰ æ ˆåŒºï¼šå­˜æ”¾å±€éƒ¨å˜é‡å’Œå‡½æ•°çš„å®å‚ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…å¹¶é‡Šæ”¾ã€‚ï¼ˆé€Ÿåº¦å¿«ã€‚ä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œå¯ç”¨ç©ºé—´å°ï¼‰ å †åŒºï¼šOCä¸­ä½¿ç”¨newæ–¹æ³•åˆ›å»ºçš„å¯¹è±¡ï¼Œç¨‹åºå‘˜æ‰‹åŠ¨ç”³è¯·å¹¶é‡Šæ”¾ã€‚ï¼ˆallocåˆ†é…çš„å†…å­˜ï¼Œé€Ÿåº¦æ…¢ï¼Œå®¹æ˜“äº§ç”Ÿå†…å­˜ç¢ç‰‡ã€‚ä½†æ˜¯ä½¿ç”¨æ–¹ä¾¿ï¼‰ é™æ€åŒºï¼ˆå…¨å±€åŒºï¼‰ï¼šç”¨æ¥å­˜æ”¾æ²¡æœ‰åˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ã€‚ï¼ˆXcode8ä¸­å…¨å±€å˜é‡å’Œé™æ€å˜é‡éƒ½å­˜åœ¨é™æ€åŒº/BSSæ–­ï¼Œä¸ç®¡æ˜¯å¦åˆå§‹åŒ–ï¼‰ å¸¸é‡åŒºï¼ˆæ•°æ®æ®µï¼‰ï¼šç”¨æ¥å­˜å‚¨å·²ç»åˆå§‹åŒ–çš„å…¨å±€å˜é‡ï¼Œé™æ€å˜é‡ï¼Œå¸¸é‡æ•°æ®ï¼Œç¨‹åºç»“æŸåç”±ç³»ç»Ÿé‡Šæ”¾ã€‚ï¼ˆXcode8å­˜å‚¨å¸¸é‡ï¼‰ ä»£ç åŒºï¼šä»£ç çš„äºŒè¿›åˆ¶æ–‡ä»¶/ç”¨æ¥å­˜å‚¨ç¨‹åºçš„ä»£ç æŒ‡ä»¤ã€‚ æ¶æ„ã€æ¡†æ¶å’Œè®¾è®¡æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ æ¶æ„ï¼šæ˜¯ä¸€ç§å·²ç»æä¾›äº†å…³ç³»å¸ƒå±€çš„éª¨æ¶ï¼Œå®ƒæ˜¯ç”±å…³ç³»è®¾è®¡è€Œæ¥çš„ï¼Œæ— è®ºè®¾è®¡ä¸ä½¿ç”¨çš„äººï¼Œè‡³å°‘è¦äº†è§£å®ƒçš„ä½œç”¨ï¼Œç‰¹åˆ«æ˜¯å…³ç³»ã€‚ æ¡†æ¶ï¼šæ˜¯ä¸€ç§å·¥å…·(å°±æ˜¯ä¸€äº›å¤ç”¨çš„ä»£ç )ï¼Œå®ƒä¸æ˜¯å­¦é—®ï¼ŒåŸºäºè®¾è®¡æ¨¡å¼çš„ä¸€ç§ç‰¹å®šå®ç°ï¼Œå®ƒæ›´å¤šæ˜¯é¢å‘ç¨‹åºå‘˜æä¾›æŸäº›å·²ç»å®ç°çš„åŠŸèƒ½ï¼Œå’Œæœ‰é™åº¦çš„å…³ç³»ç®¡ç†ã€‚ è®¾è®¡æ¨¡å¼ï¼šæ˜¯ä¸€ç§å¯¹è±¡å…³ç³»ç®¡ç†ä¸è®¾è®¡çš„å­¦é—®ï¼Œä¸€ç§æ€æƒ³ï¼Œå®ƒä¸å±äºä»»ä½•ä¸€ç§è¯­è¨€ã€‚å› æ­¤è®¾è®¡æ¨¡å¼å‡ºç°åï¼Œè¡¡é‡ä¸€ä¸ªç¨‹åºå‘˜çš„æ°´å¹³ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªé¢†åŸŸå°±æ˜¯å¯¹è®¾è®¡æ¨¡å¼çš„äº†è§£ç¨‹åº¦ã€‚å®ƒä»£è¡¨äº†ä½ å½’çº³ã€ç»„ç»‡ç­‰å’Œä»£ç ä¸å¯¹è±¡å…³ç³»çš„è®¾è®¡èƒ½åŠ›ã€‚ è°ˆä¸€ä¸‹ä½ ç†è§£çš„MVCã€MVVMã€MVPå’ŒVIPERï¼Ÿ MVCï¼šM(ä¸šåŠ¡æ¨¡å‹å±‚)ã€V(å±•ç¤ºå±‚)ã€C(æ§åˆ¶å™¨å±‚) æ˜¯ç”±Controlleré©±åŠ¨çš„ï¼ŒControlleræŒæœ‰Viewï¼Œå¹¶å“åº”Viewä¸Šçš„äº¤äº’äº‹ä»¶ï¼Œæ ¹æ®äº¤äº’è°ƒç”¨ä¸åŒçš„Modelæ–¹æ³•å–å¾—åé¦ˆæ•°æ®ï¼Œå†å°†æ•°æ®ä¼ é€’ç»™Viewå±•ç¤ºã€‚è¾¾åˆ°äº†ä»£ç å¤ç”¨ã€æ˜“æ‹“å±•ã€å¯ç»´æŠ¤çš„æ•ˆæœï¼Œä¹Ÿäº§ç”Ÿäº†Cå±‚ä¸æ˜“æµ‹è¯•ã€ä¸šåŠ¡é€»è¾‘å’Œä¸šåŠ¡å±•ç¤ºå¼ºè€¦åˆ MVPï¼šæ˜¯ç”±Viewé©±åŠ¨çš„ï¼ŒViewå±‚æŒæœ‰ä¸€ä¸ªå¯¹åº”çš„Presenterçš„å¼•ç”¨ï¼ŒViewä¸Šçš„äº¤äº’äº‹ä»¶é¦–å…ˆä¼šè°ƒç”¨Presenteræä¾›çš„æ¥å£ï¼Œç„¶åPresenterè°ƒç”¨Modelæä¾›çš„æ–¹æ³•å–å¾—æ•°æ®ï¼Œæœ€åPresenterå°†å–å¾—çš„æ•°æ®ä¼ é€’åˆ°Viewä¸Šå±•ç¤ºã€‚å°†ä¸šåŠ¡é€»è¾‘ä¸ä¸šåŠ¡å±•ç¤ºåšäº†ä¸€å±‚éš”ç¦»ï¼Œä¸šåŠ¡é€»è¾‘éƒ½è½¬ç§»åˆ°På±‚ï¼Œå‡å°‘äº†è€¦åˆï¼Œå¯¹æ¯”Cå±‚æ›´å®¹æ˜“æµ‹è¯•ã€‚ä½†ä¹Ÿå¯¼è‡´VPä¹‹é—´çš„æ•°æ®äº¤äº’å¤ªç¹ç MVVMï¼šMVVMå„å±‚çš„èŒè´£å’ŒMVPçš„ç±»ä¼¼ï¼ŒVMå¯¹åº”På±‚ï¼Œåªæ˜¯åœ¨MVVMçš„Viewå±‚å¤šäº†æ•°æ®ç»‘å®šçš„æ“ä½œã€‚åˆ›å»ºäº†ä¸€ä¸ªè§†å›¾æŠ½è±¡ã€‚å°†ä¸šåŠ¡é€»è¾‘å’Œä¸šåŠ¡å±•ç¤ºåˆ†ç¦»ï¼Œæ–¹ä¾¿æµ‹è¯•å¹¶ä¸”é€»è¾‘ç»“æ„æ¸…æ™°ã€‚ä½†æ•°æ®ç»‘å®šä½¿å¾— Bug å¾ˆéš¾è¢«è°ƒè¯•ã€‚åŒå‘ç»‘å®šä¹Ÿä½¿ç±»å¾ˆéš¾è¢«é‡ç”¨ã€‚ VIPERï¼šVIPERå½»åº•å¼±åŒ–äº†VCçš„æ¦‚å¿µï¼Œè®©VCå˜æˆäº†çœŸæ­£æ„ä¹‰ä¸Šçš„Viewã€‚æŠŠVCçš„èŒè´£è¿›è¡Œäº†å½»åº•çš„æ‹†åˆ†ï¼Œåˆ†æ•£åˆ°å„ä¸ªå­å±‚é‡Œé¢äº†ï¼Œåšåˆ°äº†æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥å•ç‹¬æµ‹è¯•å’Œå¤ç”¨ï¼Œä½†æ˜¯ä¹Ÿå¯¼è‡´äº†ä»£ç è¿‡å¤šã€é€»è¾‘æ¯”è¾ƒç»•çš„é—®é¢˜ã€‚ iOS UIåŸºç¡€ UIViewå’ŒCALayerçš„åŒºåˆ«ï¼Ÿï¼ˆCALayerçš„é€»è¾‘æ ‘ã€åŠ¨ç”»æ ‘å’Œæ˜¾ç¤ºæ ‘ï¼‰ UIViewå¯ä»¥å“åº”äº‹ä»¶å¤„ç†ï¼ŒCALayerä¸å¯ä»¥ã€‚UIViewæ˜¯CALayerçš„delegate UIViewä¸»è¦æ˜¯å¯¹æ˜¾ç¤ºå†…å®¹çš„ç®¡ç†ï¼Œè€ŒCALayerä¸»è¦ä¾§é‡æ˜¾ç¤ºå†…å®¹çš„ç»˜åˆ¶ã€‚ åœ¨åšiOSåŠ¨ç”»çš„æ—¶å€™ï¼Œä¿®æ”¹éRootLayerçš„å±æ€§ï¼ˆä½ç½®ã€é¢œè‰²ç­‰ï¼‰ä¼šé»˜è®¤äº§ç”Ÿéšå¼åŠ¨ç”»ï¼Œè€Œä¿®æ”¹UIViewä¸ä¼šã€‚ é€»è¾‘æ ‘ï¼šå°±æ˜¯ä»£ç é‡Œå¯ä»¥æ“çºµçš„ï¼Œä¾‹å¦‚æ›´æ”¹layerçš„å±æ€§ç­‰å°±åœ¨è¿™é‡Œã€‚ åŠ¨ç”»æ ‘ï¼šè¿™æ˜¯ä¸€ä¸ªä¸­é—´å±‚ï¼Œç³»ç»Ÿåœ¨è¿™ä¸€å±‚ä¸Šæ›´æ”¹å±æ€§ï¼Œè¿›è¡Œå„ç§æ¸²æŸ“æ“ä½œã€‚ æ˜¾ç¤ºæ ‘ï¼šå°±æ˜¯å½“å‰æ­£è¢«æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„å†…å®¹ã€‚ loadViewæ˜¯å¹²å˜›ç”¨çš„ï¼Ÿ æ¯æ¬¡è®¿é—®UIViewControllerçš„view(self.view,controller.view)æˆ–è€…viewä¸ºnilï¼ŒloadViewæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚ loadViewæ–¹æ³•æ˜¯ç”¨æ¥åˆ›å»ºUIViewControllerçš„Viewçš„ [super loadView]ä¼šå»æŸ¥æ‰¾ä¸UIViewControllerç›¸å…³è”çš„xibæ–‡ä»¶ï¼Œé€šè¿‡åŠ è½½xibæ–‡ä»¶æ¥åˆ›å»ºUIViewControllerçš„viewï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°xibæ–‡ä»¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªç©ºç™½çš„UIViewå¹¶èµ‹å€¼ç»™UIViewControllerçš„viewå±æ€§ã€‚ layoutIfNeededã€layoutSubviewså’ŒsetNeedsLayoutçš„åŒºåˆ«ï¼Ÿ layoutSubviews:è°ƒç”¨addSubviewã€è®¾ç½®å¹¶æ”¹å˜è§†å›¾çš„frameå±æ€§ã€æ»‘åŠ¨UIScrollViewåŠç»§æ‰¿UIScrollViewçš„æ§ä»¶ã€æ—‹è½¬å±å¹•æ—¶éƒ½ä¼šè§¦å‘layoutSubviewsæ–¹æ³• layoutIfNeet:å¦‚æœæœ‰éœ€è¦åˆ·æ–°çš„æ ‡è®°ï¼Œç«‹å³è°ƒç”¨layoutSubviewsè¿›è¡Œå¸ƒå±€ã€‚(å¦‚æœæ²¡æœ‰æ ‡è®°ä¸ä¼šè°ƒç”¨layoutSubviews) setNeedsLayout:æ ‡è®°ä¸ºéœ€è¦é‡æ–°å¸ƒå±€ï¼Œå¼‚æ­¥è°ƒç”¨layoutIfNeedåˆ·æ–°å¸ƒå±€ï¼Œä¸ç«‹å³åˆ·æ–°ï¼Œåœ¨ä¸‹ä¸€è½®RunLoopç»“æŸå‰åˆ·æ–°ï¼Œå¯¹äºè¿™ä¸€è½®RunLoopä¹‹å†…çš„æ‰€æœ‰å¸ƒå±€å’ŒUIä¸Šçš„æ›´æ–°æŒ‡æŒ¥åˆ·æ–°ä¸€æ¬¡ï¼ŒlayoutSubviewsä¸€å®šä¼šè¢«è°ƒç”¨ã€‚ iOSçš„å“åº”é“¾ï¼Ÿä»€ä¹ˆæƒ…å†µä¼šå½±å“å“åº”é“¾ï¼Ÿ å“åº”é“¾æ˜¯ç”±ä¸€ä¸²UIResponderå¯¹è±¡é“¾æ¥ï¼Œå½“APPæ¥æ”¶äº‹ä»¶æ—¶ï¼ŒUIKitè‡ªåŠ¨å¼•å¯¼äº‹ä»¶åˆ°æœ€åˆé€‚çš„å“åº”è€…å¯¹è±¡ï¼Œä¹Ÿå«åšç¬¬ä¸€å“åº”è€…ã€‚äº‹ä»¶ç”±ä¸Šå¾€ä¸‹ä¼ é€’ï¼Œç›´åˆ°èƒ½å“åº”äº‹ä»¶ä¸ºæ­¢ã€‚é‡å†™hitTest:withEventä¼šå½±å“å“åº”é“¾ã€‚ è¿åŠ¨äº‹ä»¶ç›¸å…³çš„åŠ é€Ÿåº¦è®¡ã€é™€èºä»ªã€ç£å¼ºè®¡éƒ½ä¸å±äºå“åº”è€…é“¾ã€‚è€Œæ˜¯ç”±CoreMotionä¼ é€’äº‹ä»¶ç»™ä½ æŒ‡å®šçš„å¯¹è±¡ã€‚ è¯´å‡ ç§ç»™UIImageViewæ·»åŠ åœ†è§’çš„æ–¹å¼ï¼Ÿ é€šè¿‡è®¾ç½®UIViewçš„layeræ¥è®¾ç½®åœ†è§’ é€šè¿‡Graphicsç»˜åˆ¶å›¾ç‰‡ï¼Œå°†å›¾ç‰‡è£å‰ªæˆåœ†è§’ é€šè¿‡è´å¡å°”æ›²çº¿ç»˜åˆ¶åœ†è§’ é€šè¿‡maské®ç½©ï¼Œåœ¨åŸå›¾ç‰‡ä¸Šç›–ä¸€å¼ åœ†å½¢å›¾ç‰‡ iOSä¸­å®ç°åŠ¨ç”»çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ(è¯¦è§iOSåŠ¨ç”»æ ¸å¿ƒæŠ€æœ¯ä¸æ¡ˆä¾‹) æ˜¾ç¤ºå±‚åŠ¨ç”»(UIViewåŠ¨ç”»ã€CALayerå…³é”®å¸§ã€é€å¸§åŠ¨ç”»ã€GifåŠ¨ç”») å†…å®¹å±‚åŠ¨ç”»(Core Animationç³»åˆ—åŠ¨ç”»ã€CAEmitterCellç²’å­åŠ¨ç”»ç­‰) 3DåŠ¨ç”»(CATransform3DåŠ¨ç”»ã€Cover Flow3Dæ•ˆæœ) è½¬åœºåŠ¨ç”»(CATransitionåŠ¨ç”») ä½¿ç”¨drawRectæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ åœ¨drawRectæ–¹æ³•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œé‡å¤æ‰§è¡Œ[self addSubView:view];ä¼šå¯¼è‡´å¯¹è±¡é‡å¤åˆ›å»ºï¼Œå¼•èµ·è§†å›¾é”™è¯¯ï¼Œå†…å­˜æš´å¢ã€‚ä¸»åŠ¨è°ƒç”¨setNeedsDisplayä¹Ÿä¼šè°ƒdrawRectæ–¹æ³• ç»˜åˆ¶å›¾å½¢æ€§èƒ½çš„ä¼˜åŒ–æœ€å¥½çš„åŠæ³•å°±æ˜¯ä¸å»ç»˜åˆ¶ã€‚ åˆ©ç”¨ä¸“æœ‰å›¾å±‚ä»£æ›¿ç»˜å›¾éœ€æ±‚ å¿…é¡»ç”¨åˆ°ç»˜å›¾æ—¶å°½é‡ç¼©å°è§†å›¾é¢ç§¯ã€‚å¹¶å°½é‡é™ä½é‡ç»˜é¢‘ç‡ã€‚ å¼‚æ­¥ç»˜åˆ¶ï¼Œè®¡ç®—å†…å®¹ï¼Œæå‰åœ¨å…¶ä»–çº¿ç¨‹ç»˜åˆ¶å›¾ç‰‡ã€‚åœ¨ä¸»çº¿ç¨‹ä¸­ç›´æ¥è®¾ç½®å›¾ç‰‡ã€‚ OCåŸºç¡€ æˆ‘ä»¬è¯´çš„Objective-Cæ˜¯åŠ¨æ€è¿è¡Œæ—¶è¯­è¨€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ OCçš„åŠ¨æ€è¿è¡Œæ—¶æ˜¯æŒ‡OCå…·æœ‰åŠ¨æ€ç±»å‹ã€åŠ¨æ€ç»‘å®šå’ŒåŠ¨æ€åŠ è½½çš„ç‰¹æ€§ã€‚ åŠ¨æ€ç±»å‹ï¼šå¦‚idç±»å‹ï¼Œè¿è¡Œæ—¶æ‰ç¡®å®šå¯¹è±¡çš„æ‰€å±ç±»ã€‚é™æ€ç±»å‹æ˜¯å¼ºç±»å‹ï¼ŒåŠ¨æ€ç±»å‹æ˜¯å¼±ç±»å‹ã€‚ åŠ¨æ€ç»‘å®šï¼šä½¿ç¨‹åºç›´åˆ°è¿è¡Œæ—¶æ‰ç¡®å®šè°ƒç”¨å¯¹è±¡çš„å®é™…æ–¹æ³•ã€‚ åŠ¨æ€åŠ è½½ï¼šè®©ç¨‹åºåœ¨è¿è¡Œæ—¶æ·»åŠ ä»£ç å—åŠå…¶ä»–èµ„æºã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦æ‰§è¡Œä¸€äº›å¯æ‰§è¡Œä»£ç å’Œèµ„æºï¼Œè€Œä¸æ˜¯åœ¨å¯åŠ¨æ—¶å°±åŠ è½½æ‰€æœ‰ç»„ä»¶ã€‚ staticå’Œconstçš„åŒºåˆ«ï¼Ÿ static:ä¿®é¥°å±€éƒ¨å˜é‡åªåˆå§‹åŒ–ä¸€æ¬¡ï¼Œè¯¥å˜é‡åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ä¸é‡Šæ”¾ã€‚åˆ†é…åœ¨é™æ€å­˜å‚¨åŒºã€‚ static:å…¨å±€å˜é‡æœ¬èº«å°±æ˜¯é™æ€å­˜å‚¨æ–¹å¼ï¼Œä»¥staticä¿®é¥°ä»¥åè¿˜æ˜¯é™æ€å­˜å‚¨æ–¹å¼ã€‚åŒºåˆ«åœ¨äºéé™æ€å…¨å±€å˜é‡çš„ä½œç”¨åŸŸæ˜¯æ•´ä¸ªæºç¨‹åºï¼Œè€Œé™æ€å…¨å±€å˜é‡åˆ™é™åˆ¶äº†å…¶ä½œç”¨åŸŸï¼Œå³åªåœ¨å®šä¹‰è¯¥å˜é‡çš„æºæ–‡ä»¶å†…æœ‰æ•ˆã€‚åœ¨åŒä¸€ä¸ªæºç¨‹åºçš„å…¶ä»–æ–‡ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ã€‚ const:ä»…ä»…ç”¨æ¥ä¿®é¥°å³è¾¹çš„å˜é‡ï¼Œè¢«constä¿®é¥°çš„å˜é‡æ˜¯åªè¯»çš„ã€‚ ä¸ºä»€ä¹ˆä»£ç†è¦ç”¨weakï¼Ÿä»£ç†çš„delegateå’ŒdataSourceæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿblockå’Œä»£ç†çš„åŒºåˆ«? é˜²æ­¢å¾ªç¯å¼•ç”¨ã€‚(controllerâ€”&gt;tableViewâ€“&gt;delegateâ€”&gt;controller) delegateåé‡ä¸ç”¨æˆ·äº¤äº’çš„å›è°ƒï¼ŒdataSourceä¾§é‡æ•°æ®å¤„ç†çš„å›è°ƒã€‚ blockè¿è¡Œæˆæœ¬é«˜ï¼Œå‡ºæ ˆéœ€è¦å°†ä½¿ç”¨çš„æ•°æ®ä»æ ˆå†…å­˜æ‹·è´åˆ°å †å†…å­˜ï¼Œä½¿ç”¨å®Œæˆ–è€…blockç½®ä¸ºnilæ‰é”€æ¯ã€‚delegateåªæ˜¯ä¿å­˜äº†ä¸€ä¸ªå¯¹è±¡æŒ‡é’ˆï¼Œç›´æ¥å›è°ƒï¼Œæ²¡æœ‰é¢å¤–æ¶ˆè€—ã€‚ blockçš„ä»£ç å¯è¯»æ€§æ›´å¥½ï¼Œç›´æ¥å®ç°å°±å¥½äº†ã€‚è€Œdelegateçš„å®ç°æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦å£°æ˜åè®®ï¼Œå£°æ˜ä»£ç†ï¼Œéµå®ˆåè®®ï¼Œå®ç°åè®®æ–¹æ³•ã€‚ å»ºè®®ä¼˜å…ˆä½¿ç”¨blockï¼Œå¦‚æœå›è°ƒçš„çŠ¶æ€å¾ˆå¤šï¼Œè°ƒç”¨æ¬¡æ•°é¢‘ç¹ã€‚å»ºè®®ä½¿ç”¨delegateã€‚ blockå’Œdelegateéƒ½å„æœ‰ä¼˜ç‚¹ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ç†è§£åŒºåˆ†ä½¿ç”¨åœºæ™¯ã€‚åº”ç”¨åˆé€‚çš„å›è°ƒæ–¹å¼ã€‚ å±æ€§çš„å®è´¨æ˜¯ä»€ä¹ˆï¼ŸåŒ…æ‹¬å“ªå‡ ä¸ªéƒ¨åˆ†ï¼Ÿå±æ€§é»˜è®¤çš„å…³é”®å­—éƒ½æœ‰å“ªäº›ï¼Ÿ@dynamicå…³é”®å­—å’Œ@synthesizeå…³é”®å­—æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿ å±æ€§çš„å®è´¨@property = ivar + getter + setter; åˆ©ç”¨class_copyPropertyListæŸ¥çœ‹ç±»çš„æ‰€æœ‰å±æ€§ åˆ©ç”¨class_copyIvarListæŸ¥çœ‹ç±»çš„æ‰€æœ‰æˆå‘˜å˜é‡ åˆ©ç”¨class_copyMethodListæŸ¥çœ‹ç±»çš„æ‰€æœ‰æ–¹æ³•ã€‚ å±æ€§çš„é»˜è®¤å…³é”®å­—æ˜¯ä»€ä¹ˆï¼Ÿ automaticã€readwriteã€strong NSStringä¸ºä»€ä¹ˆè¦ç”¨copyå…³é”®å­—ï¼Œå¦‚æœç”¨strongä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿï¼ˆæ³¨æ„ï¼šè¿™é‡Œæ²¡æœ‰è¯´ç”¨strongå°±ä¸€å®šä¸è¡Œã€‚ä½¿ç”¨copyå’Œstrongæ˜¯çœ‹æƒ…å†µè€Œå®šçš„ï¼‰ copyä¿®é¥°çš„æ˜¯æ·±æ‹·è´ï¼Œæ”¹å˜æºå­—ç¬¦ä¸²ï¼Œä¸å½±å“copyçš„å±æ€§å†…å®¹ã€‚ strongä¿®é¥°çš„å±æ€§å°±éšç€æºå­—ç¬¦ä¸²æ”¹å˜è€Œæ”¹å˜äº†ã€‚ å¦‚ä½•ä»¤è‡ªå·±æ‰€å†™çš„å¯¹è±¡å…·æœ‰æ‹·è´åŠŸèƒ½? å®ç°NSCopingåè®®ã€‚å¦‚æœè‡ªå®šä¹‰çš„å¯¹è±¡åˆ†ä¸ºå¯å˜ç‰ˆæœ¬ä¸ä¸å¯å˜ç‰ˆæœ¬ï¼Œé‚£ä¹ˆå°±è¦åŒæ—¶å®ç° NSCopyingä¸ NSMutableCopyingåè®®ã€‚ ç®€è¿°kvoã€kvcã€Delegateä»–ä»¬ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ ä»£ç†çš„æ•ˆç‡æ¯”é€šçŸ¥è¦é«˜ã€‚ ä»£ç†æ¯”é€šçŸ¥æ›´åŠ ç›´æ¥ã€‚ kvoå’Œé€šçŸ¥ï¼Œä»£ç†ä¸€æ ·ï¼Œéƒ½æ˜¯è´Ÿè´£é€šä¿¡çš„ã€‚kvoå’Œé€šçŸ¥æ²¡æœ‰è¿”å›å€¼ï¼Œè€Œä»£ç†æœ‰è¿”å›å€¼ã€‚ ä»£ç†æ˜¯ä¸€å¯¹ä¸€ï¼Œé€šçŸ¥ï¼Œkvoæ˜¯ä¸€å¯¹å¤šã€‚ includeä¸#importçš„åŒºåˆ«ï¼Ÿ#importä¸@classçš„åŒºåˆ«ï¼Ÿ include æ˜¯Cé¢„è¨€ä¸­ç”¨æ¥å¼•ç”¨çš„å…³é”®å­—ã€‚ import æ˜¯OCä¸­ç”¨æ¥ä»£æ›¿ includeçš„å…³é”®å­—ã€‚#importç¡®ä¿äº†åŒä¸€ä¸ªæ–‡ä»¶åªèƒ½è¢«å¯¼å…¥ä¸€æ¬¡ï¼Œä»è€Œåˆ«é¢äº†ä½¿ç”¨ #includeå®¹æ˜“å¼•èµ·çš„é‡å¤å¯¼å…¥é—®é¢˜ã€‚ @classåªæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œåè¾¹é‡åˆ°çš„è¿™åç§°æ˜¯ç±»åï¼Œè‡³äºè¿™ä¸ªç±»æ˜¯å¦‚ä½•å®ç°çš„æš‚æ—¶ä¸è€ƒè™‘ï¼Œç”¨æ¥è§£å†³çº¿ç¨‹é”æ­»çš„é—®é¢˜ã€‚ nonatomicå’Œatomicçš„åŒºåˆ«ï¼Ÿatomicæ˜¯ç»å¯¹çš„çº¿ç¨‹å®‰å…¨ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£åº”è¯¥å¦‚ä½•å®ç°ï¼Ÿ nonatomicå’Œatomicç”¨æ¥å†³å®šç¼–è¯‘å™¨ç”Ÿæˆçš„getterå’Œsetteræ“ä½œæ˜¯å¦ä¸ºåŸå­ã€‚ atomicä¸æ˜¯ç»å¯¹çš„çº¿ç¨‹å®‰å…¨ã€‚å› ä¸ºatomicçš„æœ¬æ„æ˜¯æŒ‡å±æ€§çš„å­˜å–æ–¹æ³•æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸æ˜¯ä¿è¯æ•´ä¸ªå¯¹è±¡æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚åœ¨çº¿ç¨‹ä¸­æ“ä½œå¯¹è±¡åŠ é”ã€‚ Objective-Cä¸Cã€C+++ä¹‹é—´çš„è”ç³»å’ŒåŒºåˆ«ï¼Ÿ OCä¸Cçš„åŒºåˆ«ï¼šOCä¸­å…¼å®¹Cä¸¤è€…å¯ä»¥æ··åˆç¼–ç¨‹ã€‚OCæ˜¯é¢å‘å¯¹è±¡çš„ï¼Œæœ‰ç±»ï¼Œå¯¹è±¡çš„æ¦‚å¿µï¼ŒCå´æœ¨æœ‰ã€‚ Cæ˜¯é¢å‘è¿‡ç¨‹çš„è¯­è¨€ã€‚ OCä¸C++çš„åŒºåˆ«ï¼š ç»§æ‰¿ã€‚OCä¸å¯ä»¥å¤šé‡ç»§æ‰¿ï¼ŒC++å´å¯ä»¥ å‡½æ•°è°ƒç”¨ã€‚OCéœ€è¦é€šè¿‡æ¶ˆæ¯ä¼ é€’æœºåˆ¶è°ƒç”¨å‡½æ•°ï¼ŒC++å´å¯ä»¥ç›´æ¥è°ƒç”¨ å®šå‹ã€‚OCæ˜¯åŠ¨æ€å®šå‹ã€‚C++æ˜¯ç­‰ç€ä½ å»æ‰¾ä»–ã€‚æ˜¯é™æ€ç±»å‹ã€‚ æ¥å£ã€‚OCé‡‡ç”¨çš„æ˜¯protocolåè®®ã€‚C++é‡‡ç”¨è™šå‡½æ•°çš„å½¢å¼ã€‚ æ–¹æ³•é‡è½½ã€‚OCä¸å…è®¸æœ‰åŒä¸€ä¸ªç±»ä¸­å‡ºç°ä¸¤ä¸ªç›¸åŒçš„æ–¹æ³•åã€‚C++ä¸­å…è®¸ä¸¤ä¸ªæ–¹æ³•åç›¸åŒã€‚ UICollectionViewè‡ªå®šä¹‰layoutå¦‚ä½•å®ç°ï¼Ÿ ç»§æ‰¿UICollectionViewLayoutä¹‹ååªéœ€è¦é‡è½½å‡ ä¸ªæä¾›å¸ƒå±€æ ¸å¿ƒç‰¹æ€§çš„æ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•åªéœ€æŒ‰æƒ…å†µé‡è½½å³å¯ï¼Œ è¦†å†™prepareLayoutæ–¹æ³•ï¼Œå¹¶åœ¨é‡Œé¢äº‹å…ˆå°±è®¡ç®—å¥½å¿…è¦çš„å¸ƒå±€ä¿¡æ¯å¹¶å­˜å‚¨èµ·æ¥ã€‚ collectionViewContentSizeæ–¹æ³•åŸºäºåˆå§‹è®¡ç®—ï¼Œè¿”å›æ•´ä½“å†…å®¹åŒºåŸŸçš„size layoutAttributesForElementsInRect:æ–¹æ³•è¿”å›æŒ‡å®šåŒºåŸŸä¸­cellså’Œviewsç­‰å¸ƒå±€å±æ€§ layoutAttributesForItemAtIndexPathè®¾ç½®itemSizeçš„å¤§å°ï¼Œcellä¹‹é—´çš„é—´è·ç­‰ã€‚ è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼ŸåŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Ÿå¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«ï¼Ÿ è¿›ç¨‹ï¼šæ˜¯èµ„æºçš„åˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•å…ƒï¼Œ çº¿ç¨‹ï¼šæ˜¯CPUè°ƒåº¦çš„åŸºæœ¬å•å…ƒ åŒæ­¥ï¼šæ˜¯é¡ºåºæ‰§è¡Œï¼Œæ‰§è¡Œå®Œå½“å‰çš„ä»»åŠ¡å†æ‰§è¡Œä¸‹ä¸€ä¸ªï¼Œéœ€è¦ç­‰å¾…ã€åè°ƒè¿è¡Œã€‚ å¼‚æ­¥ï¼šæ˜¯å½¼æ­¤ç‹¬ç«‹ï¼Œå¤šä¸ªä»»åŠ¡ä¹‹é—´ä¸å¿…è¦äº’ç›¸ç­‰å¾…ï¼Œåªè¦CPUç©ºé—²ï¼Œå°±å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œä¸éœ€è¦ç­‰å¾…å…¶å®ƒä»»åŠ¡çš„å®Œæˆã€‚ å¹¶å‘ï¼šæŒ‡ä¸€ä¸ªæ—¶é—´æ®µä¸­å‡ ä¸ªç¨‹åºéƒ½å¤„äºå·²å¯åŠ¨åˆ°è¿è¡Œå®Œæ¯•ä¹‹é—´ï¼Œä¸”è¿™å‡ ä¸ªç¨‹åºéƒ½æ˜¯åœ¨åŒä¸€ä¸ªå¤„ç†æœºä¸Šè¿è¡Œã€‚ å¹¶è¡Œï¼šå¹¶è¡Œæ˜¯é’ˆå¯¹å¤šå¤„ç†å™¨è€Œè¨€çš„ï¼ŒæŒ‡åŒæ—¶å‘ç”Ÿå¤šä¸ªå¹¶å‘äº‹ä»¶ çº¿ç¨‹é—´é€šä¿¡ï¼Ÿ performSelectorOnMainThread:withObject:waitUntilDone performSelector:onThread:withObject:waitUntilDone CGD:dispatch_asyncå¼‚æ­¥æ‰§è¡Œä»»åŠ¡å†å›åˆ°getmainqueueä¸»çº¿ç¨‹ GCDçš„ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ï¼Ÿï¼ˆgroupï¼Œbarrierï¼Œä¿¡å·é‡ï¼Œçº¿ç¨‹åŒæ­¥ï¼‰ dispatch_syncåŒæ­¥ dispatch_asyncå¼‚æ­¥ dispatch_barrier_asyncæ …æ  dispatch_afterå®šæ—¶å™¨ dispatch_onceæ‰§è¡Œä¸€æ¬¡ dispatch_groupã€dispatch_group_notify dispatch_group_enterã€dispatch_group_leave dispatch_semaphore(ä¿æŒçº¿ç¨‹åŒæ­¥ï¼Œå°†å¼‚æ­¥æ‰§è¡Œä»»åŠ¡è½¬æ¢ä¸ºåŒæ­¥æ‰§è¡Œä»»åŠ¡/ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä¸ºçº¿ç¨‹åŠ é”) å¦‚ä½•è®¿é—®å¹¶ä¿®æ”¹ä¸€ä¸ªç±»çš„ç§æœ‰å±æ€§ï¼Ÿ é€šè¿‡KVCè®¿é—®å¹¶ä¿®æ”¹ã€‚ é€šè¿‡runtimeè®¿é—®å¹¶ä¿®æ”¹ã€‚ æ•°æ®æŒä¹…åŒ–çš„å‡ ä¸ªæ–¹æ¡ˆï¼Ÿ plistæ–‡ä»¶ã€preferenceåå¥½è®¾ç½®ã€å½’æ¡£ã€SQLite3(fmdb)ã€CoreDataã€Realm è¯´ä¸€ä¸‹AppDelegateçš„å‡ ä¸ªæ–¹æ³•ï¼Ÿä»åå°åˆ°å‰å°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿç¬¬ä¸€æ¬¡å¯åŠ¨è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿä»å‰å°åˆ°åå°è°ƒç”¨äº†å“ªäº›æ–¹æ³•ï¼Ÿ ä»å‰å°åˆ°åå°:applicationWillResignActiveã€applicationDidEnterBackground ä»åå°åˆ°å‰å°:applicationWillEnterForegroundã€applicationDidBecomeActive ç¬¬ä¸€æ¬¡å¯åŠ¨:application:didFinishLaunchingWithOptionsã€applicationDidBecomeActive é€šè¿‡URLSchemeæ‰“å¼€App:applicationWillEnterForegroundã€application:openURL:sourceApplication:annotationã€applicationDidBecomeActive NSCacheä¼˜äºNSDictionaryçš„å‡ ç‚¹ï¼Ÿ NSCacheæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ å½“å†…å­˜ä¸è¶³æ—¶NSCachä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚ NSCacheå¯ä»¥æŒ‡å®šç¼“å­˜çš„é™é¢ï¼Œå½“ç¼“å­˜è¶…å‡ºé™é¢è‡ªåŠ¨é‡Šæ”¾å†…å­˜ çŸ¥ä¸çŸ¥é“Designated Initializerï¼Ÿä½¿ç”¨å®ƒçš„æ—¶å€™æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼Œåªèƒ½æ ‡è¯†initå‘½åçš„æ–¹æ³•ã€‚ å­ç±»æŒ‡å®šäº†æ–°çš„åˆå§‹åŒ–å™¨ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªåˆå§‹åŒ–å™¨å†…éƒ¨å¿…é¡»è°ƒç”¨çˆ¶ç±»çš„Designated Initializerã€‚å¹¶ä¸”éœ€è¦é‡å†™çˆ¶ç±»çš„Designated Initializerï¼Œå°†å…¶æŒ‡å‘å­ç±»æ–°çš„åˆå§‹åŒ–å™¨ã€‚ä¹Ÿå¯ä»¥ç”¨NS_UNAVAILABLEå®ç¦ç”¨çˆ¶ç±»çš„åˆå§‹åŒ–å™¨ã€‚ å­ç±»æ²¡æœ‰æŒ‡å®šæ–°çš„åˆå§‹åŒ–å™¨ï¼Œä¹Ÿå¯ä»¥é‡å†™çˆ¶ç±»çš„Designated Initializerï¼Œä½†éœ€è¦è°ƒç”¨ç›´æ¥çˆ¶ç±»çš„Designated Initializerã€‚ æ­£ç¡®ç¼–å†™Designated Initializerçš„å‡ ä¸ªåŸåˆ™ å®ç°descriptionæ–¹æ³•èƒ½å–åˆ°ä»€ä¹ˆæ•ˆæœï¼Ÿ ä¸å®ç°ä¼šæ‰“å°&lt;ç±»åï¼šå†…å­˜åœ°å€&gt; å®ç°ä¼šæ‰“å°descriptionçš„æè¿°ä¿¡æ¯ objcä½¿ç”¨ä»€ä¹ˆæœºåˆ¶ç®¡ç†å¯¹è±¡å†…å­˜ï¼Ÿ(Objective-Cé«˜çº§ç¼–ç¨‹ iOSä¸OS Xå¤šçº¿ç¨‹å’Œå†…å­˜ç®¡ç†) è‡ªåŠ¨å¼•ç”¨è®¡æ•° è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡è‡ªå·±æŒæœ‰ï¼ˆalloc/new/copy/mutableCopyâ€¦ï¼‰ éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡è‡ªå·±ä¹Ÿèƒ½æŒæœ‰(retain) ä¸å†éœ€è¦è‡ªå·±æŒæœ‰çš„å¯¹è±¡æ—¶é‡Šæ”¾(release) éè‡ªå·±æŒæœ‰çš„å¯¹è±¡æ— æ³•é‡Šæ”¾(dealloc) å¦‚ä½•ç»˜åˆ¶UIView?ç»˜åˆ¶ä¸€ä¸ªUIViewæœ€çµæ´»çš„æ–¹æ³•å°±æ˜¯ç”±å®ƒè‡ªå·±å®Œæˆç»˜åˆ¶ã€‚å®é™…ä¸Šä½ ä¸æ˜¯ç»˜åˆ¶ä¸€ä¸ªUIViewï¼Œè€Œæ˜¯å­ç±»åŒ–ä¸€ä¸ªUIViewå¹¶èµ‹äºˆç»˜åˆ¶è‡ªå·±çš„èƒ½åŠ›ã€‚å½“ä¸€ä¸ªUIViewéœ€è¦æ‰§è¡Œç»˜åˆ¶æ“ä½œæ—¶ï¼ŒdrawRectï¼šæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ï¼Œè¦†ç›–æ­¤æ–¹æ³•è®©ä½ è·å¾—ç»˜å›¾æ“ä½œçš„æœºä¼šã€‚å½“drawRectï¼šæ–¹æ³•è¢«è°ƒç”¨ï¼Œå½“å‰å›¾å½¢çš„ä¸Šä¸‹æ–‡ä¹Ÿè¢«è®¾ç½®ä¸ºå±äºè§†å›¾çš„å›¾å½¢ä¸Šä¸‹æ–‡ï¼Œä½ å¯ä»¥ä½¿ç”¨Core Graphicæˆ–è€…UIKitæä¾›çš„æ–¹æ³•å°†å›¾å½¢ç”»åœ¨è¯¥ä¸Šä¸‹æ–‡ä¸­ã€‚ gcdäº§ç”Ÿæ­»é”çš„åŸå› åŠè§£é”çš„æ–¹æ³•äº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶ï¼š1.äº’æ–¥æ¡ä»¶ï¼Œ2.è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼Œ3.ä¸å‰¥å¤ºæ¡ä»¶ï¼Œ4.å¾ªç¯ç­‰å¾…æ¡ä»¶ã€‚è§£å†³åŠæ³•ï¼šé‡‡ç”¨å¼‚æ­¥æ‰§è¡Œblockã€‚ getè¯·æ±‚ä¸postè¯·æ±‚çš„åŒºåˆ« getæ˜¯å‘æœåŠ¡å™¨å‘ç´¢å–æ•°æ®çš„ä¸€ç§è¯·æ±‚ï¼Œè€Œpostæ˜¯å‘æœåŠ¡å™¨æäº¤æ•°æ®çš„ä¸€ç§è¯·æ±‚ getæ²¡æœ‰è¯·æ±‚ä½“ï¼Œpostæœ‰è¯·æ±‚ä½“ getè¯·æ±‚çš„æ•°æ®ä¼šæš´éœ²åœ¨åœ°å€æ ä¸­ï¼Œè€Œpostè¯·æ±‚ä¸ä¼šï¼Œæ‰€ä»¥postè¯·æ±‚çš„å®‰å…¨æ€§æ¯”getè¯·æ±‚å· getè¯·æ±‚å¯¹urlé•¿åº¦æœ‰é™åˆ¶ï¼Œè€Œpostè¯·æ±‚å¯¹urlé•¿åº¦ç†è®ºä¸Šæ˜¯ä¸ä¼šæ”¶é™åˆ¶çš„ï¼Œä½†æ˜¯å®é™…ä¸Šå„ä¸ªæœåŠ¡å™¨ä¼šè§„å®šå¯¹postæäº¤æ•°æ®å¤§å°è¿›è¡Œé™åˆ¶ã€‚ è°ˆè°ˆä½ å¯¹å¤šçº¿ç¨‹å¼€å‘çš„ç†è§£ï¼Ÿiosä¸­æœ‰å‡ ç§å®ç°å¤šçº¿ç¨‹çš„æ–¹æ³•ï¼Ÿ ä½¿ç”¨å¤šçº¿ç¨‹å¯ä»¥æŠŠç¨‹åºä¸­å æ®æ—¶é—´é•¿çš„ä»»åŠ¡æ”¾åˆ°åå°å»å¤„ç†ï¼Œå¦‚å›¾ç‰‡ï¼Œè§†é¢‘çš„ä¸‹è½½ï¼› å‘æŒ¥å¤šæ ¸å¤„ç†å™¨çš„ä¼˜åŠ¿ï¼Œå¹¶å‘æ‰§è¡Œè®©ç³»ç»Ÿè¿è¡Œçš„æ›´å¿«ï¼Œæ›´æµç•…ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½ï¼› å¤§é‡çš„çº¿ç¨‹é™ä½ä»£ç çš„å¯è¯»æ€§ï¼› æ›´å¤šçš„çº¿ç¨‹éœ€è¦æ›´å¤šçš„å†…å­˜ç©ºé—´ï¼› å½“å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªèµ„æºå‡ºç°äº‰å¤ºçš„æ—¶å€™è¦æ³¨æ„çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚ iosæœ‰3ç§å¤šçº¿ç¨‹ç¼–ç¨‹çš„æŠ€æœ¯ï¼š1.NSThreadï¼Œ2.NSOperationQueueï¼Œ3.gcdï¼› XMPPå·¥ä½œåŸç†ï¼›xmppç³»ç»Ÿç‰¹ç‚¹ å·¥ä½œåŸç†ï¼š æ‰€æœ‰ä»ä¸€ä¸ªclientåˆ°å¦ä¸€ä¸ªclientçš„jabberæ¶ˆæ¯å’Œæ•°æ®éƒ½è¦é€šè¿‡xmpp server clienté“¾æ¥åˆ°server serveråˆ©ç”¨æœ¬åœ°ç›®å½•ç³»ç»Ÿçš„è¯ä¹¦å¯¹å…¶è®¤è¯ serveræŸ¥æ‰¾ï¼Œè¿æ¥å¹¶è¿›è¡Œç›¸äº’è®¤è¯ clienté—´è¿›è¡Œäº¤äº’ç‰¹ç‚¹ï¼š å®¢æˆ·æœº/æœåŠ¡å™¨é€šä¿¡æ¨¡å¼ï¼› åˆ†å¸ƒå¼ç½‘ç»œï¼› ç®€å•çš„å®¢æˆ·ç«¯ï¼› XMLçš„æ•°æ®æ ¼å¼ï¼› åœ°å›¾çš„å®šä½æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ å¯¼å…¥äº†CoreLocation.framework ios8ä»¥åï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å®šä½åŠŸèƒ½ï¼Œå°±éœ€è¦è¯·æ±‚ç”¨æˆ·æˆæƒï¼Œåœ¨é¦–æ¬¡è¿è¡Œæ—¶ä¼šå¼¹æ¡†æç¤º é€šè¿‡æœ¬æœºè‡ªå¸¦çš„gpsè·å–ä½ç½®ä¿¡æ¯(å³ç»çº¬åº¦) è‹¹æœå†…è´­å®ç°æµç¨‹ ç¨‹åºé€šè¿‡bundleå­˜å‚¨çš„plistæ–‡ä»¶å¾—åˆ°äº§å“æ ‡è¯†ç¬¦çš„åˆ—è¡¨ã€‚ ç¨‹åºå‘App Storeå‘é€è¯·æ±‚ï¼Œå¾—åˆ°äº§å“çš„ä¿¡æ¯ã€‚ App Storeè¿”å›äº§å“ä¿¡æ¯ã€‚ ç¨‹åºæŠŠè¿”å›çš„äº§å“ä¿¡æ¯æ˜¾ç¤ºç»™ç”¨æˆ·ï¼ˆAppçš„storeç•Œé¢ï¼‰ ç”¨æˆ·é€‰æ‹©æŸä¸ªäº§å“ ç¨‹åºå‘App Storeå‘é€æ”¯ä»˜è¯·æ±‚ App Storeå¤„ç†æ”¯ä»˜è¯·æ±‚å¹¶è¿”å›äº¤æ˜“å®Œæˆä¿¡æ¯ã€‚ Appè·å–ä¿¡æ¯å¹¶æä¾›å†…å®¹ç»™ç”¨æˆ·ã€‚ æ”¯ä»˜å®ï¼Œå¾®ä¿¡ç­‰ç›¸å…³ç±»å‹çš„sdkçš„é›†æˆ åœ¨æ”¯ä»˜å®å¼€å‘å¹³å°åˆ›å»ºåº”ç”¨å¹¶è·å–APPID é…ç½®å¯†é’¥ é›†æˆå¹¶é…ç½®SDK è°ƒç”¨æ¥å£ï¼ˆå¦‚äº¤æ˜“æŸ¥è¯¢æ¥å£ï¼Œäº¤æ˜“é€€æ¬¾æ¥å£ï¼‰ ç”ŸæˆäºŒç»´ç çš„æ­¥éª¤ ä½¿ç”¨CIFilteræ»¤é•œç±»ç”ŸæˆäºŒç»´ç  å¯¹ç”Ÿæˆçš„äºŒç»´ç è¿›è¡ŒåŠ å·¥ï¼Œä½¿å…¶æ›´æ¸…æ™° è‡ªå®šä¹‰äºŒç»´ç èƒŒæ™¯è‰²ã€å¡«å……è‰² è‡ªå®šä¹‰å®šä½è§’æ ‡ åœ¨äºŒç»´ç ä¸­å¿ƒæ’å…¥å°å›¾ç‰‡ åœ¨ä½¿ç”¨XMPPçš„æ—¶å€™æœ‰æ²¡æœ‰ä»€ä¹ˆå›°éš¾ å‘é€é™„ä»¶ï¼ˆå›¾ç‰‡ï¼Œè¯­éŸ³ï¼Œæ–‡æ¡£â€¦ï¼‰æ—¶æ¯”è¾ƒéº»çƒ¦ XMPPæ¡†æ¶æ²¡æœ‰æä¾›å‘é€é™„ä»¶çš„åŠŸèƒ½ï¼Œéœ€è¦è‡ªå·±å®ç° å®ç°æ–¹æ³•ï¼ŒæŠŠæ–‡ä»¶ä¸Šä¼ åˆ°æ–‡ä»¶æœåŠ¡å™¨ï¼Œä¸Šä¼ æˆåŠŸåè·å–æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œå†æŠŠé™„ä»¶çš„è·¯å¾„å‘é€ç»™å¥½å‹ æ˜¯å¦ä½¿ç”¨è¿‡ç¯ä¿¡ï¼Œç®€å•çš„è¯´ä¸‹ç¯ä¿¡çš„å®ç°åŸç† ç¯ä¿¡æ˜¯ä¸€ä¸ªå³æ—¶é€šè®¯çš„æœåŠ¡æä¾›å•† ç¯ä¿¡ä½¿ç”¨çš„æ˜¯XMPPåè®®ï¼Œå®ƒæ˜¯å†XMPPçš„åŸºç¡€ä¸Šè¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œå¯¹æœåŠ¡å™¨Openfireå’Œå®¢æˆ·ç«¯è¿›è¡ŒåŠŸèƒ½æ¨¡å‹çš„æ·»åŠ å’Œå®¢æˆ·ç«¯SDKçš„å°è£…ï¼Œç¯ä¿¡çš„æœ¬è´¨è¿˜æ˜¯ä½¿ç”¨XMPPï¼ŒåŸºäºSocketçš„ç½‘ç»œé€šä¿¡ ç¯ä¿¡å†…éƒ¨å®ç°äº†æ•°æ®ç¼“å­˜ï¼Œä¼šæŠŠèŠå¤©è®°å½•æ·»åŠ åˆ°æ•°æ®åº“ï¼ŒæŠŠé™„ä»¶ï¼ˆå¦‚éŸ³é¢‘æ–‡ä»¶ï¼Œå›¾ç‰‡æ–‡ä»¶ï¼‰ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä½¿ç¨‹åºå‘˜æ›´å¤šæ—¶é—´æ˜¯èŠ±åˆ°ç”¨æˆ·ä½“éªŒä½“éªŒä¸Šã€‚]]></content>
      <categories>
        <category>é¢è¯•é¢˜</category>
      </categories>
      <tags>
        <tag>é¢è¯•é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•ä¼˜åŒ–å¤æ‚tableViewå¡é¡¿é—®é¢˜ï¼Ÿ]]></title>
    <url>%2F2019%2F03%2F11%2F%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E5%A4%8D%E6%9D%82tableView%E5%8D%A1%E9%A1%BF%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[å¯¼è‡´tableViewå¡é¡¿çš„åŸå› ï¼š cellForRowAtIndexPath:æ–¹æ³•ä¸­å¤„ç†äº†è¿‡å¤šä¸šåŠ¡ cellçš„subviewå±‚çº§å¤ªå¤æ‚ï¼Œåšäº†å¤§é‡é€æ˜å¤„ç† cellçš„heightåŠ¨æ€å˜åŒ–æ—¶è®¡ç®—æ–¹å¼ä¸å¯¹ ä¼˜åŒ–tableViewï¼š cellçš„è¡Œé«˜ä¸æ˜¯å›ºå®šå€¼ï¼Œéœ€è¦è®¡ç®—ï¼Œåˆ™è¦å°½å¯èƒ½ç¼“å­˜è¡Œé«˜å€¼ï¼Œé¿å…é‡å¤è®¡ç®—è¡Œé«˜ã€‚å› ä¸º heightForRowAtIndexPath:æ˜¯è°ƒç”¨æœ€é¢‘ç¹çš„æ–¹æ³•ã€‚ æ»‘åŠ¨æ—¶æŒ‰éœ€åŠ è½½ï¼Œè¿™ä¸ªåœ¨å¤§é‡å›¾ç‰‡å±•ç¤ºï¼Œç½‘ç»œåŠ è½½çš„æ—¶å€™å¾ˆç®¡ç”¨!(SDWebImage å·²ç»å®ç°å¼‚ æ­¥åŠ è½½ï¼Œé…åˆè¿™æ¡æ€§èƒ½æ æ çš„)ã€‚ æ­£ç¡®ä½¿ç”¨ reuseIdentifier æ¥é‡ç”¨ Cells å°½é‡å°‘ç”¨æˆ–ä¸ç”¨é€æ˜å›¾å±‚ å¦‚æœ Cell å†…ç°å®çš„å†…å®¹æ¥è‡ª webï¼Œä½¿ç”¨å¼‚æ­¥åŠ è½½ï¼Œç¼“å­˜è¯·æ±‚ç»“æœ å‡å°‘ subviews çš„æ•°é‡ åœ¨ heightForRowAtIndexPath:ä¸­å°½é‡ä¸ä½¿ç”¨ cellForRowAtIndexPath:ï¼Œå¦‚æœä½ éœ€è¦ç”¨åˆ°å®ƒï¼Œ åªç”¨ä¸€æ¬¡ç„¶åç¼“å­˜ç»“æœ æ‰€æœ‰çš„å­è§†å›¾éƒ½é¢„å…ˆåˆ›å»ºï¼Œå¦‚æœä¸éœ€è¦æ˜¾ç¤ºå¯ä»¥è®¾ç½® hiddenï¼Œå°½é‡å°‘åŠ¨æ€ç»™ Cell æ·»åŠ  View é¢œè‰²ä¸è¦ä½¿ç”¨ alph æ …æ ¼åŒ–ï¼Œ cell å¼‚æ­¥åŠ è½½å›¾ç‰‡ä»¥åŠç¼“å­˜ cell çš„ subViews çš„å„çº§ opaque å€¼è¦è®¾æˆ YESï¼Œå°½é‡ä¸è¦åŒ…å«é€æ˜çš„å­ Viewopaque ç”¨äºè¾…åŠ©ç»˜å›¾ç³»ç»Ÿï¼Œè¡¨ç¤º UIView æ˜¯å¦é€æ˜ã€‚åœ¨ä¸é€æ˜çš„æƒ…å†µä¸‹ï¼Œæ¸²æŸ“è§†å›¾æ—¶éœ€è¦å¿«é€Ÿ åœ°æ¸²æŸ“ï¼Œä»¥ô°€é«˜æ€§èƒ½ã€‚æ¸²æŸ“æœ€æ…¢çš„æ“ä½œä¹‹ä¸€æ˜¯æ··åˆ(blending)ã€‚ô°€é«˜æ€§èƒ½çš„æ–¹æ³•æ˜¯å‡å°‘æ··åˆæ“ ä½œçš„æ¬¡æ•°ï¼Œå…¶å®å°±æ˜¯ GPU çš„ä¸åˆç†ä½¿ç”¨ï¼Œè¿™æ˜¯ç¡¬ä»¶æ¥å®Œæˆçš„(æ··åˆæ“ä½œç”± GPU æ¥æ‰§è¡Œï¼Œå› ä¸ºè¿™ ä¸ªç¡¬ä»¶å°±æ˜¯ç”¨æ¥åšæ··åˆæ“ä½œçš„ï¼Œå½“ç„¶ä¸åªæ˜¯æ··åˆ)ã€‚ ä¼˜åŒ–æ··åˆæ“ä½œçš„å…³é”®ç‚¹æ˜¯åœ¨å¹³è¡¡ CPU å’Œ GPU çš„è´Ÿè½½ã€‚è¿˜æœ‰å°±æ˜¯ cell çš„ layer çš„ shouldRasterize è¦è®¾æˆ YESã€‚ ä¸è¦å°† tableview çš„èƒŒæ™¯é¢œè‰²è®¾ç½®æˆä¸€ä¸ªå›¾ç‰‡ã€‚è¿™å›ä¸¥é‡å½±å“ UITableView çš„æ»‘åŠ¨é€Ÿåº¦ã€‚åœ¨ é™æ—¶å…è´¹æœç´¢é‡Œï¼Œæˆ‘æ›¾ç»ç¿»è¿‡ä¸€ä¸ªé”™è¯¯:self.tableView_.backgroundColor = [UIColorcolorWithPatternImage:[UIImageimageNamed:@â€background.pngâ€]]; é€šè¿‡è¿™ç§æ–¹å¼ è®¾ç½® UITableView çš„èƒŒæ™¯é¢œè‰²ä¼šä¸¥é‡å½±å“ UTIableView çš„æ»‘åŠ¨æµç•…æ€§ã€‚ä¿®æ”¹æˆ self.tableView_.backgroundColor = [UIColor clearColor];ä¹‹åï¼Œfps ä» 43 ä¸Šå‡åˆ° 60 å·¦å³ã€‚ æ»‘åŠ¨æ¯”è¾ƒæµç•…ã€‚ å¼‚æ­¥ç»˜åˆ¶ (1) åœ¨ç»˜åˆ¶å­—ç¬¦ä¸²æ—¶ï¼Œå°½å¯èƒ½ä½¿ç”¨ drawAtPoint: withFont:ï¼Œè€Œä¸è¦ä½¿ç”¨æ›´å¤æ‚çš„ drawAtPoint:(CGPoint)point forWidth:(CGFloat)width withFont:(UIFont *)font lineBreakMode:(UILineBreakMode)lineBreakMode; å¦‚æœè¦ç»˜åˆ¶è¿‡é•¿çš„å­—ç¬¦ä¸²ï¼Œå»ºè®®è‡ªå·±å…ˆæˆª æ–­ï¼Œç„¶åä½¿ç”¨ drawAtPoint: withFont:æ–¹æ³•ç»˜åˆ¶ã€‚(2) åœ¨ç»˜åˆ¶å›¾ç‰‡æ—¶ï¼Œå°½é‡ä½¿ç”¨ drawAtPointï¼Œè€Œä¸è¦ä½¿ç”¨ drawInRectã€‚drawInRect å¦‚æœåœ¨ç»˜ åˆ¶è¿‡ç¨‹ä¸­å¯¹å›¾ç‰‡è¿›è¡Œæ”¾ç¼©ï¼Œä¼šç‰¹åˆ«æ¶ˆè€— CPUã€‚(3) å…¶å®ï¼Œæœ€å¿«çš„ç»˜åˆ¶å°±æ˜¯ä½ ä¸è¦åšä»»ä½•ç»˜åˆ¶ã€‚æœ‰æ—¶é€šè¿‡ UIGraphicsBeginImageContextWithOptions() æˆ–è€… CGBitmapContextCeate() åˆ›å»ºä½å›¾ä¼šæ˜¾ å¾—æ›´æœ‰æ„ä¹‰ï¼Œä»ä½å›¾ä¸Šé¢æŠ“å–å›¾åƒï¼Œå¹¶è®¾ç½®ä¸º CALayer çš„å†…å®¹ã€‚å¦‚æœä½ å¿…é¡»å®ç° -drawRect:ï¼Œå¹¶ä¸”ä½ å¿…é¡»ç»˜åˆ¶å¤§é‡çš„ä¸œè¥¿ï¼Œè¿™å°†å ç”¨æ—¶é—´ã€‚(4) å¦‚æœç»˜åˆ¶ cell è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸‹è½½ cell ä¸­çš„å›¾ç‰‡ï¼Œå»ºè®®åœ¨ç»˜åˆ¶ cell ä¸€æ®µæ—¶é—´åå†å¼€å¯å›¾ ç‰‡ä¸‹è½½ä»»åŠ¡ã€‚è­¬å¦‚å…ˆç”»ä¸€ä¸ªé»˜è®¤å›¾ç‰‡ï¼Œç„¶ååœ¨ 0.5S åå¼€å§‹ä¸‹è½½æœ¬ cell çš„å›¾ç‰‡ã€‚(5) å³ä½¿ä¸‹è½½ cell å›¾ç‰‡æ˜¯åœ¨å­çº¿ç¨‹ä¸­è¿›è¡Œï¼Œåœ¨ç»˜åˆ¶ cell è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¸èƒ½å¼€å¯è¿‡å¤šçš„å­çº¿ç¨‹ã€‚ æœ€å¥½åªæœ‰ä¸€ä¸ªä¸‹è½½å›¾ç‰‡çš„å­çº¿ç¨‹åœ¨æ´»åŠ¨ã€‚å¦åˆ™ä¹Ÿä¼šå½±å“ UITableViewCell çš„ç»˜åˆ¶ï¼Œå› è€Œå½±å“äº† UITableViewCell çš„æ»‘åŠ¨é€Ÿåº¦ã€‚(å»ºè®®ç»“åˆä½¿ç”¨ NSOpeartion å’Œ NSOperationQueue æ¥ä¸‹è½½å›¾ç‰‡ï¼Œ å¦‚æœæƒ³å°½å¯èƒ½æ‰¾çš„ä¸‹è½½å›¾ç‰‡ï¼Œå¯ä»¥æŠŠ[self.queuesetMaxConcurrentOperationCount:4];)(6) æœ€å¥½è‡ªå·±å†™ä¸€ä¸ª cacheï¼Œç”¨æ¥ç¼“å­˜ UITableView ä¸­çš„ UITableViewCellï¼Œè¿™æ ·åœ¨æ•´ä¸ª UITableView çš„ç”Ÿå‘½å‘¨æœŸé‡Œï¼Œä¸€ä¸ª cell åªéœ€ç»˜åˆ¶ä¸€æ¬¡ï¼Œå¹¶ä¸”å¦‚æœå‘ç”Ÿå†…å­˜ä¸è¶³ï¼Œä¹Ÿå¯ä»¥æœ‰æ•ˆçš„ é‡Šæ”¾æ‰ç¼“å­˜çš„ cellã€‚]]></content>
      <categories>
        <category>é¢è¯•é¢˜</category>
      </categories>
      <tags>
        <tag>é¢è¯•é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JenkinsæŒç»­æ„å»º-é‡‡å‘å¤§å…¨-Macç‰ˆ]]></title>
    <url>%2F2018%2F05%2F30%2FJenkins%2F</url>
    <content type="text"><![CDATA[Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯åŸºäºJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºç›‘æ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚(ç™¾åº¦ç™¾ç§‘ğŸ¤¦â€â™€ï¸) Jenkinså®‰è£…Jenkinså®˜ç½‘ä¸‹è½½ é€‰æ‹©ç›¸å¯¹åº”çš„ç¯å¢ƒä¸‹è½½ æ‰“å¼€ä¸‹è½½å¥½çš„.pkgæ–‡ä»¶ã€ç‹‚ç‚¹ä¸‹ä¸€æ­¥å³å¯å®‰è£…å®Œæˆåç³»ç»Ÿä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªJenkinsç”¨æˆ·ï¼ŒJenkinsè´¦æˆ·å¯†ç å¯åœ¨ ç³»ç»Ÿåå¥½è®¾ç½®-ç”¨æˆ· ä¸ç¾¤ç»„-å…¶ä»–ç”¨æˆ·-ç®¡ç†å‘˜-æ›´æ”¹å¯†ç  é‡æ–°è®¾ç½® å®‰è£…å®Œæˆåä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€å¦‚æœªæ‰“å¼€å¯æ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:8080/login?from=%2F ç‚¹å‡»Finder: æŒ‰çº¢å­—æç¤ºè·¯å¾„æ— æ³•æ‰“å¼€Finder,æ˜¯å› ä¸ºsecretsè®¿é—®æƒé™é—®é¢˜ã€‚æŒ‰çº¢è‰²æ¡†æç¤ºè¾“å…¥ç”µè„‘å¯†ç è§£é”ä¿®æ”¹æ–‡ä»¶å¤¹æƒé™å’ŒinitialAdminPasswordæ–‡ä»¶æƒé™å³å¯è®¿é—®$ command+shift+G: /Users/Shared/Jenkins/Home/ å¤åˆ¶initialAdminPasswordå†…å¯†ç åˆ°è¾“å…¥æ¡†ç‚¹ç»§ç»­è¿›è¡Œä¸‹ä¸€æ­¥ æ­¤å¤„æ˜¯ä¸ªbugã€‚æç¤ºJenkinså®ä¾‹ç¦»çº¿ã€æ— æ³•è·å–æ’ä»¶ã€‚ã€ä¸è¦è·³è¿‡æ’ä»¶å®‰è£…ã€‘ å¦‚æ­£å¸¸è¯·çœ‹ç¬¬9æ­¥éª¤ æ–°æ‰“å¼€ä¸€ä¸ªtabé¡µï¼Œè¾“å…¥ç½‘å€http://localhost:8080/pluginManager/advanced,æœ€ä¸‹é¢æœ‰ä¸ªã€å‡çº§ç«™ç‚¹ã€‘ï¼ŒæŠŠå…¶ä¸­çš„é“¾æ¥æ”¹æˆhttp://updates.jenkins.io/update-center.jsonå°±å¥½äº†ã€‚ æ›´æ¢å®Œæˆåç‚¹å‡»ç«‹å³è·å–ã€‚å¦‚è·å–æˆåŠŸåˆ™ä¼šæç¤º xxç§’ä¹‹å‰è·å–äº†æ›´æ–°ä¿¡æ¯ã€‚ æ­¤æ—¶åˆ·æ–°Jenkinsé¡µé¢è¿˜æ˜¯ä¼šæç¤ºç¦»çº¿ï¼Œæ‰“å¼€ã€æ´»åŠ¨ç›‘è§†å™¨ã€‘æœç´¢javaï¼Œç„¶åå¼ºåˆ¶é€€å‡ºã€‚å…³é—­javaæœåŠ¡åå†åˆ·æ–°é¡µé¢å°±æ˜¾ç¤ºæ­£å¸¸äº†ã€‚ æ­¤æ—¶ä¸ºæ­£å¸¸æ˜¾ç¤ºé¡µé¢ï¼ŒæŒ‰éœ€æ±‚é€‰æ‹©å®‰è£…æ¨èæˆ–è‡ªå®šä¹‰å®‰è£…å³å¯ å®‰è£…å®Œæˆååˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ· åˆ›å»ºå®Œæˆåç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œè¿›å…¥Jenkinsã€‚æ­¤æ—¶Jenkinså·²å®‰è£…å®Œæˆã€‚]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>æŒç»­æ„å»º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€ä¸ªéå¸¸ç®€æ´å¥½ç”¨çš„UIbuttonæ‰©å±•,å¿«é€Ÿè®¾ç½®buttonçš„imageä½ç½®]]></title>
    <url>%2F2018%2F04%2F18%2FUIButton-Category%2F</url>
    <content type="text"><![CDATA[è½¬è‡ªtbl00cå¼€æºçš„ä¸€ä¸ªåŸºç¡€ç»„ä»¶åº“GitHub1234567891011121314151617181920212223242526UIButton+Extensions.h#import &lt;UIKit/UIKit.h&gt;typedef NS_ENUM(NSInteger, TLButtonImagePosition) &#123; TLButtonImagePositionLeft = 0, //å›¾ç‰‡åœ¨å·¦ï¼Œæ–‡å­—åœ¨å³ï¼Œé»˜è®¤ TLButtonImagePositionRight = 1, //å›¾ç‰‡åœ¨å³ï¼Œæ–‡å­—åœ¨å·¦ TLButtonImagePositionTop = 2, //å›¾ç‰‡åœ¨ä¸Šï¼Œæ–‡å­—åœ¨ä¸‹ TLButtonImagePositionBottom = 3, //å›¾ç‰‡åœ¨ä¸‹ï¼Œæ–‡å­—åœ¨ä¸Š&#125;;@interface UIButton (Extensions)/** * imageå’Œtitleå›¾æ–‡æ··æ’ * * @param position å›¾ç‰‡çš„ä½ç½®ï¼Œé»˜è®¤left * @param spacing å›¾ç‰‡å’Œæ ‡é¢˜çš„é—´éš” * * @return è¿”å›buttonæœ€å°çš„size * * æ³¨æ„ï¼Œéœ€è¦å…ˆè®¾ç½®å¥½imageã€titleã€fontã€‚ç½‘ç»œå›¾ç‰‡éœ€è¦ä¸‹è½½å®Œæˆåå†è°ƒç”¨æ­¤æ–¹æ³•ï¼Œæˆ–è®¾ç½®åŒå¤§å°çš„placeholder */- (CGSize)setButtonImagePosition:(TLButtonImagePosition)position spacing:(CGFloat)spacing;@end 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647UIButton+Extensions.m@implementation UIButton (Extensions)- (CGSize)setButtonImagePosition:(TLButtonImagePosition)position spacing:(CGFloat)spacing&#123; CGSize imageSize = self.imageView.image.size; CGSize titleSize = [self.titleLabel.text sizeWithAttributes:@&#123;NSFontAttributeName : self.titleLabel.font&#125;]; CGSize buttonSize = CGSizeZero; if (position == TLButtonImagePositionLeft || position == TLButtonImagePositionRight) &#123; if (position == TLButtonImagePositionLeft) &#123; self.imageEdgeInsets = UIEdgeInsetsMake(0, -spacing/2, 0, spacing/2); self.titleEdgeInsets = UIEdgeInsetsMake(0, spacing/2, 0, -spacing/2); &#125; else &#123; self.imageEdgeInsets = UIEdgeInsetsMake(0, titleSize.width + spacing/2, 0, -(titleSize.width + spacing/2)); self.titleEdgeInsets = UIEdgeInsetsMake(0, -(imageSize.height + spacing/2), 0, imageSize.height + spacing/2); &#125; buttonSize.width = imageSize.width + titleSize.width + spacing; buttonSize.height = MAX(imageSize.height, titleSize.height); &#125; else &#123; CGFloat imageOffsetX = titleSize.width &gt; imageSize.width ? (titleSize.width - imageSize.width) / 2.0 : 0; CGFloat imageOffsetY = imageSize.height / 2; CGFloat titleOffsetXR = titleSize.width &gt; imageSize.width ? 0 : (imageSize.width - titleSize.width) / 2.0; CGFloat titleOffsetX = imageSize.width + titleOffsetXR; CGFloat titleOffsetY = titleSize.height / 2; if (position == TLButtonImagePositionTop) &#123; self.imageEdgeInsets = UIEdgeInsetsMake(-imageOffsetY, imageOffsetX, imageOffsetY, -imageOffsetX); self.titleEdgeInsets = UIEdgeInsetsMake(titleOffsetY, -titleOffsetX, -titleOffsetY, -titleOffsetXR); &#125; else &#123; self.imageEdgeInsets = UIEdgeInsetsMake(imageOffsetY, imageOffsetX, -imageOffsetY, -imageOffsetX); self.titleEdgeInsets = UIEdgeInsetsMake(-titleOffsetY, -titleOffsetX, titleOffsetY, -titleOffsetXR); &#125; buttonSize.width = MAX(imageSize.width, titleSize.width); buttonSize.height = imageSize.height + titleSize.height + spacing; &#125; return buttonSize;&#125;@end]]></content>
      <categories>
        <category>è½¬è½½</category>
      </categories>
      <tags>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSå¸¸è§é¢è¯•é¢˜]]></title>
    <url>%2F2018%2F04%2F16%2FInterview%2F</url>
    <content type="text"><![CDATA[å†…å­˜ç®¡ç† è¯´ä¸€ä¸‹å†…å­˜ç®¡ç†ä¸­ä½ ç»å¸¸ç”¨çš„å‡ ä¸ªä¿®é¥°ç¬¦assign â€œè®¾ç½®æ–¹æ³•â€ åªä¼šæ‰§è¡Œé’ˆå¯¹â€œçº¯é‡â€çš„ç®€å•èµ‹å€¼æ“ä½œã€‚strong æ­¤ç‰¹è´¨è¡¨æ˜è¯¥å±æ€§å®šä¹‰äº†ä¸€ç§â€œæ‹¥æœ‰å…³ç³»â€ã€‚ä¸ºè¿™ç§å±æ€§è®¾ç½®æ–°å€¼æ—¶ï¼Œè®¾ç½®æ–¹æ³•ä¼šå…ˆä¿ç•™æ–°å€¼ï¼Œå¹¶é‡Šæ”¾æ—§å€¼ï¼Œç„¶åå†å°†æ–°å€¼è®¾ç½®ä¸Šå»ã€‚weak æ­¤ç‰¹è´¨è¡¨æ˜è¯¥å±æ€§å®šä¹‰äº†ä¸€ç§â€œéæ‹¥æœ‰å…³ç³»â€ã€‚ä¸ºè¿™ç§å±æ€§è®¾ç½®æ–°å€¼æ—¶ï¼Œè®¾ç½®æ–¹æ³•æ—¢ä¸ä¿ç•™æ–°å€¼ï¼Œä¹Ÿä¸é‡Šæ”¾æ—§å€¼ã€‚æ­¤ç‰¹è´¨åŒassignç±»ä¼¼ï¼Œç„¶è€Œåœ¨å±æ€§æ‰€æŒ‡çš„å¯¹è±¡é­åˆ°æ¨æ¯æ—¶ï¼Œå±æ€§å€¼ä¹Ÿä¼šæ¸…ç©ºã€‚assigin å¯ä»¥ç”¨éOCå¯¹è±¡,è€Œweakå¿…é¡»ç”¨äºOCå¯¹è±¡ã€‚åœ¨ARCä¸­ï¼Œåœ¨æœ‰å¯èƒ½å‡ºç°å¾ªç¯å¼•ç”¨çš„æ—¶å€™ï¼Œå¾€å¾€è¦é€šè¿‡è®©å…¶ä¸­ä¸€ç«¯ä½¿ç”¨weakæ¥è§£å†³ã€‚æ¯”å¦‚delegateä»£ç†ã€‚è‡ªèº«å·²ç»å¯¹å®ƒè¿›è¡Œä¸€æ¬¡å¼ºå¼•ç”¨,æ²¡æœ‰å¿…è¦å†å¼ºå¼•ç”¨ä¸€æ¬¡,æ­¤æ—¶ä¹Ÿä¼šä½¿ç”¨weak,è‡ªå®šä¹‰IBOutletæ§ä»¶å±æ€§ä¸€èˆ¬ä¹Ÿä½¿ç”¨weakï¼›å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨strongã€‚unsafe_unretained æ­¤ç‰¹è´¨çš„è¯­ä¹‰å’Œassignç›¸åŒï¼Œä½†æ˜¯å®ƒé€‚ç”¨äºâ€œå¯¹è±¡ç±»å‹â€ï¼Œè¯¥ç‰¹è´¨è¡¨è¾¾ä¸€ç§â€œéæ‹¥æœ‰å…³ç³»â€ï¼Œå½“ç›®æ ‡å¯¹è±¡é­åˆ°æ¨æ¯æ—¶ï¼Œå±æ€§å€¼ä¸ä¼šè‡ªåŠ¨æ¸…ç©ºï¼Œè¿™ä¸€ç‚¹ä¸weakæœ‰åŒºåˆ«ã€‚copy æ­¤ç‰¹è´¨æ‰€è¡¨è¾¾çš„æ‰€å±å…³ç³»ä¸strongç±»ä¼¼ã€‚ç„¶è€Œè®¾ç½®æ–¹æ³•å¹¶ä¸ä¿ç•™æ–°å€¼ï¼Œè€Œæ˜¯è®¾ç½®æ–¹æ³•å¹¶ä¸ä¿ç•™æ–°å€¼ï¼Œè€Œæ˜¯å°†å…¶â€œæ‹·è´â€ã€‚å½“å±æ€§ç±»å‹ä¸ºNSString*æ—¶ï¼Œç»å¸¸ç”¨æ­¤ç‰¹è´¨æ¥ä¿æŠ¤å…¶å°è£…æ€§ï¼Œå› ä¸ºä¼ é€’ç»™è®¾ç½®æ–¹æ³•çš„æ–°å€¼æœ‰å¯èƒ½æŒ‡å‘ä¸€ä¸ªNSMutableStringç±»çš„å®ä¾‹ã€‚è¿™ä¸ªç±»æ˜¯NSStringçš„å­ç±»ï¼Œè¡¨ç¤ºä¸€ç§å¯ä»¥ä¿®æ”¹å…¶å€¼çš„å­—ç¬¦ä¸²ï¼Œæ­¤æ—¶è‹¥æ˜¯ä¸æ‹·è´å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè®¾ç½®å®Œå±æ€§ä¹‹åï¼Œå­—ç¬¦ä¸²çš„å€¼å°±å¯èƒ½ä¼šåœ¨å¯¹è±¡ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹é­äººæ›´æ”¹ã€‚æ‰€ä»¥ï¼Œè¿™æ—¶å°±è¦æ‹·è´ä¸€ä»½â€œä¸å¯å˜â€çš„å­—ç¬¦ä¸²ï¼Œç¡®ä¿å¯¹è±¡ä¸­çš„å­—ç¬¦ä¸²å€¼ä¸ä¼šæ— æ„é—´å˜åŠ¨ã€‚åªè¦å®ç°å±æ€§æ‰€ç”¨çš„å¯¹è±¡æ˜¯â€œå¯å˜çš„â€ï¼Œå°±åº”è¯¥åœ¨è®¾ç½®æ–°å±æ€§å€¼æ—¶æ‹·è´ä¸€ä»½ã€‚NSStringã€NSArrayã€NSDictionaryå¯å˜ç±»å‹å¸¸ç”¨copyï¼Œblockä¹Ÿå¸¸ç”¨copy Nsstringç”¨copyçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢NSStringè¢«ä¿®æ”¹ã€‚NSMutableStringæ˜¯NSStrigçš„å­ç±»ï¼Œå½“NSStringçš„èµ‹å€¼æ¥æºä¹Ÿæ˜¯NSStringæ—¶ï¼Œstrongå’Œcopyçš„ä½œç”¨ç›¸åŒï¼Œéƒ½æ˜¯ç»™å¤åˆ¶æ¥æºçš„å¼•ç”¨è®¡æ•°åŠ 1ï¼Œå½“NSStrigçš„èµ‹å€¼æ¥æºæ˜¯NSMutableStringæ—¶ï¼Œcopyä¼šåšæ·±æ‹·è´ï¼Œå³é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä¿®æ”¹èµ‹å€¼æ¥æºä¸ä¼šå½±å“NSStringçš„å€¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼šA-&gt;B Aä¸­çš„ä¸€ä¸ªMutableStringç»™Bä¸­çš„ä¸€ä¸ªProperty(NSStringç±»å‹)èµ‹å€¼ é¦–å…ˆæ˜¯èƒ½æ¥å—çš„ï¼Œçˆ¶ç±»å¯ä»¥æ¥å—å­ç±»ï¼Œå¦‚æœæ˜¯strongï¼Œä»…ä»…æ˜¯ç”Ÿæˆä¸€ä¸ªæŒ‡é’ˆï¼Œè®¡æ•°å™¨åŠ ä¸€ï¼Œç„¶åæŒ‡å‘é‚£ä¸ªMutableStringã€‚å¦‚æœNSStringæ”¹å˜ï¼ŒBä¸­é‚£ä¸ªè·Ÿç€æ”¹å˜ï¼Œå› ä¸ºæ˜¯åŒä¸€å—å†…å­˜åŒºåŸŸã€‚è€Œé€‰æ‹©Copyç›¸å½“äºåˆç”Ÿæˆäº†ä¸€ä¸ªNSStringï¼Œä¸Aä¸­çš„MutableStringç‹¬ç«‹ã€‚ Blockä¸ºä»€ä¹ˆä½¿ç”¨copyä¿®é¥°?é»˜è®¤æƒ…å†µä¸‹ï¼Œblockæ˜¯å­˜æ¡£åœ¨æ ˆä¸­ï¼Œå¯èƒ½è¢«éšæ—¶å›æ”¶ï¼Œé€šè¿‡copyæ“ä½œå¯ä»¥ä½¿å…¶åœ¨å †ä¸­ä¿ç•™ä¸€ä»½, ç›¸å½“äºä¸€ç›´å¼ºå¼•ç”¨ç€, é˜²æ­¢å‡ºç°å†…å­˜æ³„éœ²çš„æƒ…å†µã€‚å½“blockä¸­éœ€è¦ç”¨åˆ°selfæ—¶æˆ–è€…è¯´éœ€è¦å¼±å¼•ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡weakæˆ–è€…unsafe_unretained. ä½†æ˜¯å½“éœ€è¦å¼ºåŒ–çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´ï¼Œåœ¨blockä¸­æœ‰å»¶è¿Ÿæ‰§è¡Œçš„æ“ä½œçš„æ—¶å€™å°±å¿…é¡»å°†å…¶å¼±åŒ–ï¼Œéœ€è¦ç”¨__strongæ¥ä¿®é¥°å°±å¯ä»¥äº†ã€‚ **ARCä¸­æ˜¯æ€ä¹ˆå®ç°è‡ªåŠ¨é‡Šæ”¾çš„?è¿™ä¸ªæ—¶å€™æˆ‘è¯´çš„æ˜¯ï¼Œç³»ç»Ÿè‡ªåŠ¨é‡Šæ”¾ï¼Œä½†æ˜¯ä¼šè¿½åŠ è¢«é—®åˆ°ç³»ç»Ÿæ˜¯æ€ä¹ˆé‡Šæ”¾çš„ï¼Œæˆ‘è¯´æ˜¯æ²¡æœ‰å¼•ç”¨è®¡æ•°å°±è‡ªåŠ¨é‡Šæ”¾äº†ï¼Œä½†æ˜¯ä¼šé—®åˆ°ï¼Œç³»ç»Ÿæ˜¯æ€ä¹ˆçŸ¥é“å¼•ç”¨è®¡æ•°ä¸ºé›¶éœ€è¦é‡Šæ”¾äº†ï¼Œè¿™ä¸ªæ‰æ˜¯é—®é¢˜çš„å…³é”®ï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥å›ç­”è¯´ï¼Œè¿™æ˜¯è¢«runloopæ§åˆ¶çš„ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½æœ‰è‡ªå·±çš„çº¿ç¨‹æ¥å®Œæˆï¼Œè€Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±å¯¹äºçš„runloopï¼Œå½“ä¸€ä¸ªä»»åŠ¡ç»“æŸçš„æ—¶å€™ï¼Œå°±æ˜¯runloopå¾ªç¯ç»“æŸçš„æ—¶å€™ä¼šè®¿é—®å¼•ç”¨è®¡æ•°ï¼Œå°±æ˜¯è¿˜æœ‰æ²¡æœ‰è¢«è®¿é—®ç€ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œå°±è¯´æ˜æ˜¯é›¶äº†ï¼Œå°±ä¼šå‘Šè¯‰ç³»ç»Ÿä¸ºé›¶éœ€è¦é‡Šæ”¾ï¼Œç„¶åå°±ä¼šæ”¾åˆ°è‡ªåŠ¨é‡Šæ”¾æ± ä¸­ç­‰å¾…åœ¨ä¸€å®šçš„æ—¶é—´ä¸€èµ·é‡Šæ”¾æ‰è¿™äº›å¯¹è±¡ã€‚ KVO-KVC ç®€è¿°KVOçš„å®ç°åŸç†ï¼ˆä¸è¦ç®€å•çš„è¯´å‡ºæ–‡å­—åŸç†ï¼Œæ–¹æ³•åä¸€å®šè¦è¯´ï¼‰kvoæ˜¯åŸºäºruntimeæœºåˆ¶å®ç°çš„ï¼Œæ˜¯é€šè¿‡ç›‘å¬å±æ€§æ¥åšç›¸åº”çš„æ“ä½œå½“æŸä¸ªç±»çš„å¯¹è±¡ç¬¬ä¸€æ¬¡è¢«è§‚å¯Ÿæ—¶ï¼Œç³»ç»Ÿä¼šåœ¨å…¶è¿è¡ŒæœŸé—´åŠ¨æ€çš„åˆ›å»ºä¸€ä¸ªå­ç±»ï¼Œåœ¨è¿™ä¸ªå­ç±»ä¸­é‡å†™åŸºç±»ä¸­ä»»ä½•è¢«è§‚å¯Ÿå±æ€§çš„setteræ–¹æ³•ï¼Œåœ¨setæ–¹æ³•ä¸­é€šçŸ¥ç›‘å¬observeã€‚å³é€šè¿‡è°ƒç”¨[self willchangeValueForKey:â€œkeyâ€];å’Œ[self didChangeValueForKey:â€œkeyâ€];è¿™ä¸¤ä¸ªæ–¹æ³•ä¼šä¸»åŠ¨è°ƒç”¨ç›‘å¬è€…å†…éƒ¨çš„-ï¼ˆvoidï¼‰observeValueForKeyPathè¿™ä¸ªæ–¹æ³•ï¼Œä»è€Œå®ç°ç›‘å¬ã€‚ ç®€è¿°KVCçš„å®ç°åŸç†Kvcæ˜¯é—´æ¥é€šè¿‡å­—ç¬¦ä¸²ç±»å‹çš„keyè·å–å¯¹åº”çš„å±æ€§å€¼.KVCçš„ä¼˜ç‚¹å¯ä»¥è®¿é—®ç§æœ‰å±æ€§é—´æ¥ä¿®æ”¹ç§æœ‰å±æ€§å¯ä»¥è®¿é—®idç±»å‹ä»»ä½•ç±»å‹çš„å±æ€§å€¼ valueForKeyå’ŒvalueForKeyPathçš„åŒºåˆ«keyPathåŒ…å«äº†keyçš„åŠŸèƒ½valueForKeyPathå¯ä»¥è®¿é—®å¯¹è±¡çš„å¯¹è±¡ï¼Œä½†æ˜¯valueForKeyä¸å¯ä»¥ï¼Œåªèƒ½è®¿é—®å½“å‰å¯¹è±¡çš„å±æ€§keyPathå¯ä»¥è®¡ç®—æ•°ç»„çš„é•¿åº¦ Block Blockä¸ºä»€ä¹ˆä½¿ç”¨copyä¿®é¥°é»˜è®¤æƒ…å†µä¸‹ï¼Œblockæ˜¯å­˜æ”¾åœ¨æ ˆä¸­ï¼Œå¯èƒ½è¢«éšæ—¶å›æ”¶ï¼Œé€šè¿‡copyæ“ä½œå¯ä»¥ä½¿å…¶åœ¨å †ä¸­ä¿ç•™ä¸€ä»½, ç›¸å½“äºä¸€ç›´å¼ºå¼•ç”¨ç€, é˜²æ­¢å‡ºç°å†…å­˜æ³„éœ²çš„æƒ…å†µã€‚å½“blockä¸­éœ€è¦ç”¨åˆ°selfæ—¶æˆ–è€…è¯´éœ€è¦å¼±å¼•ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡weakæˆ–è€…unsafe_unretained. ä½†æ˜¯å½“éœ€è¦å¼ºåŒ–çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´ï¼Œåœ¨blockä¸­æœ‰å»¶è¿Ÿæ‰§è¡Œçš„æ“ä½œçš„æ—¶å€™å°±å¿…é¡»å°†å…¶å¼±åŒ–ï¼Œéœ€è¦ç”¨__strongæ¥ä¿®é¥°å°±å¯ä»¥äº† å¦‚æœblockä½“å¤–é¢å®šä¹‰ä¸ªä¸€ä¸ªintç±»å‹çš„a=10ï¼Œåœ¨blockä½“é‡Œé¢ä¿®æ”¹a = 20ï¼Œæ­¤æ—¶aæ˜¯å¤šå°‘ï¼Œä¸ºä»€ä¹ˆï¼Œåº”è¯¥æ€ä¹ˆåšaæ˜¯10ï¼Œå› ä¸ºå±€éƒ¨å˜é‡ä¿®é¥°çš„å€¼ï¼Œåœ¨blockä½“é‡Œé¢å–å¾—æ˜¯å€¼ï¼Œè€Œä¸æ˜¯åœ°å€ï¼Œåœ¨åé¢æ— è®ºæ€ä¹ˆä¿®æ”¹éƒ½æ˜¯å–åˆ°æ–°çš„å€¼ï¼Œåº”è¯¥ç”¨__blockæ¥ä¿®é¥°ï¼Œè¿™æ ·å°±æ˜¯å–åœ°å€äº†ã€‚ï¼ˆè¿˜æœ‰çš„é¢è¯•å®˜ä¼šé—®ï¼Œå‡å¦‚åœ¨blockä½“å¤–é¢ç”¨staticä¿®é¥°çš„è¯æˆ–è€…æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰è¿™ä¸ªaå‘¢ï¼Œè¿™ä¸ªæ—¶å€™è®°ä½ä¸€ç‚¹ï¼Œé™¤äº†å±€éƒ¨ä¿®é¥°çš„blockå¤–é¢çš„å€¼æ˜¯å–å€¼ï¼Œåˆ«çš„éƒ½æ˜¯å–å€éƒ½æ˜¯å¯ä»¥å‘ç”Ÿæ”¹å˜çš„ï¼‰ åœ¨blockä¸­æœ‰ä¸€ä¸ªç”¨GCDä¿®é¥°çš„çº¿ç¨‹ï¼Œéœ€è¦å»¶æ—¶åŠ è½½ï¼Œè¿™ä¸ªæ—¶å€™ä¼šä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¯¥æ€ä¹ˆæ“ä½œã€‚ä¼šå¯èƒ½å‡ºç°é‡æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡è¢«æå‰é‡Šæ”¾äº†ï¼Œæ˜¯ä¸ºäº†é¿å…åœ¨ block çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œçªç„¶å‡ºç° self è¢«é‡Šæ”¾çš„å°´å°¬æƒ…å†µã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä¸è¿™ä¹ˆåšçš„è¯ï¼Œè¿˜æ˜¯å¾ˆå®¹æ˜“å‡ºç°ä¸€äº›å¥‡æ€ªçš„é€»è¾‘ï¼Œç”šè‡³é—ªé€€.é˜²æ­¢è¿™ä¸ªï¼Œéœ€è¦ç”¨åˆ°__strongæ¥å¼ºå¼•ç”¨ä¸€ä¸‹ã€‚åœ¨å»¶è¿Ÿä¹‹åéœ€è¦ç”¨åˆ°çš„æ—¶å€™ä¸ä¼šè¢«é‡Šæ”¾æ‰ã€‚ ç¬¬ä¸‰æ–¹æ¡†æ¶å’ŒåŸç† ç®€è¿°SDWebImageçš„å®ç°åŸç†ï¼ˆè¿™ä¸ªæ—¶å€™ä¸è¦åªæ˜¯ç­”æ–‡å­—ï¼Œé‡è¦apiéœ€è¦è¯´å‡ºæ¥ï¼‰1) å…¥å£ setImageWithURL:placeholderImage:options: ä¼šå…ˆæŠŠ placeholderImage æ˜¾ç¤ºï¼Œç„¶å SDWebImageManager æ ¹æ® URL å¼€å§‹å¤„ç†å›¾ç‰‡ã€‚2) è¿›å…¥ SDWebImageManager-downloadWithURL:delegate:options:userInfo:ï¼Œäº¤ç»™ SDImageCache ä»ç¼“å­˜æŸ¥æ‰¾å›¾ç‰‡æ˜¯å¦å·²ç»ä¸‹è½½ queryDiskCacheForKey:delegate:userInfo:3) å…ˆä»å†…å­˜å›¾ç‰‡ç¼“å­˜æŸ¥æ‰¾æ˜¯å¦æœ‰å›¾ç‰‡ï¼Œå¦‚æœå†…å­˜ä¸­å·²ç»æœ‰å›¾ç‰‡ç¼“å­˜ï¼ŒSDImageCacheDelegate å›è°ƒimageCache:didFindImage:forKey:userInfo: åˆ° SDWebImageManagerã€‚4) SDWebImageManagerDelegate å›è°ƒ webImageManager:didFinishWithImage: åˆ° UIImageView+WebCache ç­‰å‰ç«¯å±•ç¤ºå›¾ç‰‡ã€‚5) å¦‚æœå†…å­˜ç¼“å­˜ä¸­æ²¡æœ‰ï¼Œç”Ÿæˆ NSInvocationOperation æ·»åŠ åˆ°é˜Ÿåˆ—å¼€å§‹ä»ç¡¬ç›˜æŸ¥æ‰¾å›¾ç‰‡æ˜¯å¦å·²ç»ç¼“å­˜ã€‚6) æ ¹æ® URLKey åœ¨ç¡¬ç›˜ç¼“å­˜ç›®å½•ä¸‹å°è¯•è¯»å–å›¾ç‰‡æ–‡ä»¶ã€‚è¿™ä¸€æ­¥æ˜¯åœ¨ NSOperation è¿›è¡Œçš„æ“ä½œï¼Œæ‰€ä»¥å›ä¸»çº¿ç¨‹è¿›è¡Œç»“æœå›è°ƒ notifyDelegate:ã€‚7) å¦‚æœä¸Šä¸€æ“ä½œä»ç¡¬ç›˜è¯»å–åˆ°äº†å›¾ç‰‡ï¼Œå°†å›¾ç‰‡æ·»åŠ åˆ°å†…å­˜ç¼“å­˜ä¸­ï¼ˆå¦‚æœç©ºé—²å†…å­˜è¿‡å°ï¼Œä¼šå…ˆæ¸…ç©ºå†…å­˜ç¼“å­˜ï¼‰ã€‚8) SDImageCacheDelegate å›è°ƒ imageCache:didFindImage:forKey:userInfo:ã€‚è¿›è€Œå›è°ƒå±•ç¤ºå›¾ç‰‡ã€‚9) å¦‚æœä»ç¡¬ç›˜ç¼“å­˜ç›®å½•è¯»å–ä¸åˆ°å›¾ç‰‡ï¼Œè¯´æ˜æ‰€æœ‰ç¼“å­˜éƒ½ä¸å­˜åœ¨è¯¥å›¾ç‰‡ï¼Œéœ€è¦ä¸‹è½½å›¾ç‰‡, å›è°ƒ imageCache:didNotFindImageForKey:userInfo:ã€‚10) å…±äº«æˆ–é‡æ–°ç”Ÿæˆä¸€ä¸ªä¸‹è½½å™¨ SDWebImageDownloader å¼€å§‹ä¸‹è½½å›¾ç‰‡ã€‚11) å›¾ç‰‡ä¸‹è½½ç”± NSURLConnection æ¥åšï¼Œå®ç°ç›¸å…³ delegate æ¥åˆ¤æ–­å›¾ç‰‡ä¸‹è½½ä¸­ã€ä¸‹è½½å®Œæˆå’Œä¸‹è½½å¤±è´¥ã€‚12) connection:didReceiveData: ä¸­åˆ©ç”¨ ImageIO åšäº†æŒ‰å›¾ç‰‡ä¸‹è½½è¿›åº¦åŠ è½½æ•ˆæœã€‚13) connectionDidFinishLoading: æ•°æ®ä¸‹è½½å®Œæˆåäº¤ç»™ SDWebImageDecoder åšå›¾ç‰‡è§£ç å¤„ç†ã€‚14) å›¾ç‰‡è§£ç å¤„ç†åœ¨ä¸€ä¸ª NSOperationQueue å®Œæˆï¼Œä¸ä¼šæ‹–æ…¢ä¸»çº¿ç¨‹ UIã€‚å¦‚æœæœ‰éœ€è¦å¯¹ä¸‹è½½çš„å›¾ç‰‡è¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼Œæœ€å¥½ä¹Ÿåœ¨è¿™é‡Œå®Œæˆï¼Œæ•ˆç‡ä¼šå¥½å¾ˆå¤šã€‚15) åœ¨ä¸»çº¿ç¨‹ notifyDelegateOnMainThreadWithInfo: å®£å‘Šè§£ç å®Œæˆï¼ŒimageDecoder:didFinishDecodingImage:userInfo: å›è°ƒç»™ SDWebImageDownloaderã€‚imageDownloader:didFinishWithImage: å›è°ƒç»™ SDWebImageManager å‘ŠçŸ¥å›¾ç‰‡ä¸‹è½½å®Œæˆã€‚16) é€šçŸ¥æ‰€æœ‰çš„ downloadDelegates ä¸‹è½½å®Œæˆï¼Œå›è°ƒç»™éœ€è¦çš„åœ°æ–¹å±•ç¤ºå›¾ç‰‡ã€‚17) å°†å›¾ç‰‡ä¿å­˜åˆ° SDImageCache ä¸­ï¼Œå†…å­˜ç¼“å­˜å’Œç¡¬ç›˜ç¼“å­˜åŒæ—¶ä¿å­˜ã€‚å†™æ–‡ä»¶åˆ°ç¡¬ç›˜ä¹Ÿåœ¨ä»¥å•ç‹¬ NSInvocationOperation å®Œæˆï¼Œé¿å…æ‹–æ…¢ä¸»çº¿ç¨‹ã€‚ SDWebImageå†…éƒ¨å¯ä»¥è‡ªå·±æ¸…ç†ç¼“å­˜å—ï¼ŸSDImageCache åœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¼šæ³¨å†Œä¸€äº›æ¶ˆæ¯é€šçŸ¥ï¼Œåœ¨å†…å­˜è­¦å‘Šæˆ–é€€åˆ°åå°çš„æ—¶å€™æ¸…ç†å†…å­˜å›¾ç‰‡ç¼“å­˜ï¼Œåº”ç”¨ç»“æŸçš„æ—¶å€™æ¸…ç†è¿‡æœŸå›¾ç‰‡ SDWebImageæ€ä¹ˆé¢„å…ˆä¸‹è½½å›¾ç‰‡ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨?æä¾›äº†SDWebImagePrefetcher å¯ä»¥é¢„å…ˆä¸‹è½½å›¾ç‰‡ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ã€‚ ä¸‹æ‹‰åˆ·æ–°çš„åŸç†ï¼ˆè¿™ä¸ªç»“åˆcontentInsetå’ŒcontentOffsetç®€å•è¯´è¯´å°±å¯ä»¥äº†ï¼‰å¤§éƒ¨åˆ†çš„ä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼Œéƒ½æ˜¯ç”¨contentInsetå®ç°çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸€ä¸ªUIScrollViewçš„å·¦ä¸Šè§’åœ¨å¯¼èˆªæ çš„æ­£ä¸‹æ–¹ï¼Œé‚£ä¹ˆå®ƒçš„contentInsetæ˜¯64ï¼Œè€ŒcontentOffsetæ˜¯-64ã€‚ç»§ç»­ä¸‹æ‹‰çš„è¯ï¼ŒcontentOffsetå°±ä¼šè¶Šæ¥è¶Šå°ï¼Œå¦‚æœä¸Šæ»‘ï¼ŒcontentOffsetå°±ä¼šå¢å¤§ï¼Œç›´åˆ°å·¦ä¸Šè§’è¾¾åˆ°å±å¹•çš„å·¦ä¸Šè§’æ—¶ï¼ŒcontentOffsetåˆšå¥½ä¸º0é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸‹æ‹‰ä¸€ä¸ªUIScrollViewï¼Œåœ¨æ¾æ‰‹ä¹‹åï¼Œä¼šå¼¹å›åˆå§‹çš„ä½ç½®ï¼ˆå¯¼èˆªæ ä¸‹æ–¹ï¼‰ã€‚è€Œå¤§éƒ¨åˆ†çš„ä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼Œéƒ½æ˜¯å°†è‡ªå·±æ”¾åœ¨UIScrollViewçš„ä¸Šæ–¹ï¼Œèµ·å§‹yè®¾ç½®æˆè´Ÿæ•°ï¼Œæ‰€ä»¥å¹³æ—¶ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œåªæœ‰ä¸‹æ‹‰çš„æ—¶å€™æ‰ä¼šå‡ºç°ï¼Œæ”¾å¼€åˆä¼šå¼¹å›å»ã€‚ç„¶ååœ¨loadingçš„æ—¶å€™ï¼Œä¸´æ—¶æŠŠcontentInsetå¢å¤§ï¼Œç›¸å½“äºæŠŠUIScrollViewå¾€ä¸‹æŒ¤ï¼Œäºæ˜¯ä¸‹æ‹‰åˆ·æ–°çš„æ§ä»¶å°±ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œç„¶ååˆ·æ–°å®Œæˆä¹‹åï¼Œå†æŠŠcontentInsetæ”¹å›åŸæ¥çš„å€¼ï¼Œå®ç°å›å¼¹çš„æ•ˆæœ æ•°æ®å­˜å‚¨ ä¸ºä»€ä¹ˆåº”ç”¨å­˜åœ¨æ²™ç›’ä¸­iOSæœ¬åœ°åŒ–å­˜å‚¨çš„æ•°æ®ä¿å­˜åœ¨æ²™ç›’ä¸­ ï¼Œæ¯ä¸ªåº”ç”¨çš„æ²™ç›’æ˜¯ç‹¬ç«‹ï¼Œç»“æ„æ˜¯ç›¸åŒçš„ï¼Œè¿™æ ·æ¯”è¾ƒå®‰å…¨ï¼ˆæˆ‘æ²¡å›ç­”ä¸Šæ¥ï¼Œé¢è¯•å®˜ç»™è¯´çš„ç­”æ¡ˆï¼Œä¸çŸ¥é“æ­£ç¡®æ€§ï¼‰ å­˜å‚¨æ–¹å¼1ï¼‰Plistå­˜å‚¨ï¼šPlistæ–‡ä»¶çš„Typeå¯ä»¥æ˜¯å­—å…¸NSDictionaryæˆ–æ•°ç»„NSArrayï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥æŠŠå­—å…¸æˆ–æ•°ç»„ç›´æ¥å†™å…¥åˆ°æ–‡ä»¶ä¸­ã€‚NSStringã€NSDataã€NSNumberç­‰ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨writeToFile:atomically:æ–¹æ³•ç›´æ¥å°†å¯¹è±¡å†™å…¥æ–‡ä»¶ä¸­ï¼Œåªæ˜¯Typeä¸ºç©ºã€‚2ï¼‰NSUserDefaultsï¼Œä¸€èˆ¬çš„ç™»å½•æ³¨å†Œçš„æ•°æ®ä¿å­˜è¿™ä¸ªé‡Œé¢3ï¼‰NSKeyedArchiverå½’æ¡£ / NSKeyedUnarchiverè§£æ¡£4) å½’æ¡£å’Œè§£æ¡£ä¼šåœ¨å†™å…¥ã€è¯»å‡ºæ•°æ®ä¹‹å‰è¿›è¡Œåºåˆ—åŒ–ã€ååºåˆ—åŒ–ï¼Œæ•°æ®çš„å®‰å…¨æ€§ç›¸å¯¹é«˜ä¸€äº›ã€‚&emsp;&emsp;1&gt; å¯¹å•ä¸ªç®€å•å¯¹è±¡è¿›è¡Œå½’æ¡£/è§£æ¡£ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨NSArrayï¼ŒNSDictionaryç­‰å¯¹è±¡ã€‚&emsp;&emsp;2&gt; å¯¹å¤šä¸ªå¯¹è±¡è¿›è¡Œå½’æ¡£/è§£æ¡£&emsp;&emsp;3&gt; å½’æ¡£ä¿å­˜è‡ªå®šä¹‰å¯¹è±¡ã€‚å®šä¹‰ä¸€ä¸ªPersonç±»ï¼Œå¦‚æœæƒ³å¯¹personè¿›è¡Œå½’æ¡£è§£æ¡£ï¼Œé¦–å…ˆè¦è®©Personéµå®ˆåè®®ã€‚4ï¼‰SQLite3&emsp;&emsp;1&gt; é¦–å…ˆéœ€è¦æ·»åŠ åº“æ–‡ä»¶libsqlite3.0.tbd&emsp;&emsp;2&gt; å¯¼å…¥å¤´æ–‡ä»¶#import &lt;sqlite3.h&gt;&emsp;&emsp;3&gt; æ‰“å¼€æ•°æ®åº“&emsp;&emsp;4&gt; åˆ›å»ºè¡¨&emsp;&emsp;5&gt; å¯¹æ•°æ®è¡¨è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œ&emsp;&emsp;6&gt; å…³é—­æ•°æ®åº“ FMDBå’ŒCoraDataçš„åŒºåˆ«FMDBæ˜¯ocæ–¹å¼æ¥å°è£…cè¯­è¨€çš„sqliteï¼Œè¿˜æ˜¯éœ€è¦ç¼–å†™sqliteè¯­å¥ï¼ŒCoreDataæ˜¯ocæ–¹å¼æ¥å°è£…cè¯­è¨€çš„sqliteï¼Œä¸ç”¨ç¼–å†™ä»»ä½•sqliteè¯­å¥ï¼Œè‡ªåŠ¨æ ¹æ®å¯¹è±¡ç±»å‹å’Œå±æ€§åç”Ÿæˆå¯¹åº”çš„sqliteè¯­å¥è¿™ä¸¤ä¸ªçš„åŒºåˆ«ï¼šCoreDataä¸ç”¨ç¼–å†™sqliteè¯­å¥ï¼ŒCoreDataæ˜¯ä¸å¯æ§çš„ï¼Œä»¥ä¸ºè‡ªåŠ¨ç”Ÿæˆï¼Œä¼šæœ‰å¾ˆå¤šä¸å¿…è¦çš„å±æ€§ï¼ŒFMDBå¯ä»¥è‡ªå·±æ§åˆ¶ã€‚ ç”¨sqlè¯­å¥æ€ä¹ˆå¢åŠ æˆ–è€…åˆ é™¤ä¸€ä¸ªå­—æ®µ1ï¼‰å¢åŠ è¡¨å­—æ®µï¼šALTER TABLE è¡¨å ADD COLUMNå­—æ®µåå­—æ®µç±»å‹2ï¼‰åˆ é™¤è¡¨å­—æ®µï¼šALTER TABLE è¡¨å DROP COLUMNå­—æ®µå å­—æ®µç±»å‹3ï¼‰xä¿®æ”¹è¡¨å­—æ®µï¼šALTER TABLE è¡¨å RENAME COLUMNæ—§å­—æ®µå to æ–°å­—æ®µå æ²™ç›’ä¸­å­˜å‚¨æ–‡ä»¶éƒ½åŒ…æ‹¬ä»€ä¹ˆï¼Œéƒ½æ˜¯æ€ä¹ˆå­˜æ”¾çš„ï¼ˆæœ‰ä¸€ä¸ªé—®äº†è¿™ä¸ªé—®é¢˜ï¼‰1)Application :å­˜æ”¾ç¨‹åºæºæ–‡ä»¶ï¼Œä¸Šæ¶å‰ç»è¿‡æ•°å­—ç­¾åï¼Œä¸Šæ¶åä¸å¯ä¿®æ”¹2ï¼‰Documentï¼šå¸¸ç”¨ç›®å½•ï¼ŒiCloudå¤‡ä»½ç›®å½•ï¼Œå­˜æ”¾æ•°æ®ï¼Œè¿™é‡Œä¸èƒ½ç¼“å­˜æ–‡ä»¶ï¼Œå¦åˆ™ä¸Šæ¶ä¸è¢«é€šè¿‡3ï¼‰Libraryï¼š&emsp;&emsp;1&gt; Caches:å­˜æ”¾ ä½“ç§¯å¤§åˆä¸éœ€è¦å¤‡ä»½çš„æ•°æ®ï¼ŒSDWebImageç¼“å­˜è·¯å¾„å°±æ˜¯è¿™ä¸ª&emsp;&emsp;2&gt; Preference:è®¾ç½®ç›®å½•ï¼ŒiCloudä¼šå¤‡ä»½è®¾ç½®ä¿¡æ¯4ï¼‰tmpï¼šå­˜æ”¾ä¸´æ—¶æ–‡ä»¶ï¼Œä¸ä¼šè¢«å¤‡ä»½ï¼Œè€Œä¸”è¿™ä¸ªæ–‡ä»¶ä¸‹çš„æ•°æ®æœ‰å¯èƒ½éšæ—¶è¢«æ¸…é™¤çš„å¯èƒ½ Runloopï¼ˆè¿™ä¸ªå…·ä½“æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œçœ‹æ–‡æ¡£å§ï¼‰ å®šä¹‰RunLoopçš„å®è´¨æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œç”¨äºä¿è¯ç¨‹åºçš„æŒç»­è¿è¡Œï¼Œåªæœ‰å½“ç¨‹åºé€€å‡ºçš„æ—¶å€™æ‰ä¼šç»“æŸï¼ˆç”±mainå‡½æ•°å¼€å¯ä¸»çº¿ç¨‹çš„RunLoopï¼‰ ä½œç”¨ä¿æŒç¨‹åºçš„æŒç»­è¿è¡Œå¤„ç†Appä¸­çš„å„ç§äº‹ä»¶ï¼ˆè§¦æ‘¸ã€å®šæ—¶å™¨ã€Selectoräº‹ä»¶ï¼‰èŠ‚çœCPUèµ„æºï¼Œæé«˜ç¨‹åºæ€§èƒ½ï¼ˆè¯¥åšäº‹åšäº‹ï¼Œæ²¡äº‹åšä¼‘æ¯ï¼‰ä½¿ç”¨NSRunLoopï¼ˆé¢å‘å¯¹è±¡ï¼‰æˆ–è€…CFRunLoopRefï¼ˆåº•å±‚Cè¯­è¨€ï¼‰ RunLoopçš„åŸç†RunLoopå¼€å¯ä¸€ä¸ªå¾ªç¯äº‹ä»¶ï¼Œå¹¶æ¥å—è¾“å…¥äº‹ä»¶ï¼Œæ¥å—çš„äº‹ä»¶æ¥è‡ªä¸¤ç§ä¸åŒçš„æ¥æºï¼šè¾“å…¥æºï¼ˆinput sourceï¼‰(ä¼ é€’å¼‚æ­¥äº‹ä»¶)å®šæ—¶æºï¼ˆtimer sourceï¼‰(ä¼ é€’åŒæ­¥äº‹ä»¶)RunLoopæ¥æ”¶åˆ°æ¶ˆæ¯åé‡‡ç”¨handlePortã€customSrcã€mySelectorå’ŒtimerFiredå››ä¸ªæ–¹æ³•å¤„ç†å¯¹åº”çš„äº‹ä»¶å½“RunLoopæ²¡æœ‰æ¥æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œåˆ™è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œä»¥ä¿æŒç¨‹åºæŒç»­è¿è¡Œ å¤šçº¿ç¨‹ NSOperationå’ŒGCDçš„åŒºåˆ«1ï¼‰GCDæ˜¯åŸºäºcçš„åº•å±‚apiï¼ŒNSOperationå±äºobject-cç±»ã€‚iosé¦–å…ˆå¼•å…¥çš„æ˜¯NSOperationï¼ŒIOS4ä¹‹åå¼•å…¥äº†GCDå’ŒNSOperationQueueå¹¶ä¸”å…¶å†…éƒ¨æ˜¯ç”¨gcdå®ç°çš„ã€‚2ï¼‰GCDä¼˜ç‚¹ï¼šGCDä¸»è¦ä¸blockç»“åˆä½¿ç”¨ã€‚ä»£ç ç®€æ´é«˜æ•ˆã€‚æ‰§è¡Œæ•ˆç‡ç¨å¾®é«˜ç‚¹ã€‚3ï¼‰NSOperationç›¸å¯¹äºGCDï¼š&emsp;&emsp;1&gt;ï¼ŒNSOperationæ‹¥æœ‰æ›´å¤šçš„å‡½æ•°å¯ç”¨ï¼Œå…·ä½“æŸ¥çœ‹apiã€‚NSOperationQueue æ˜¯åœ¨GCDåŸºç¡€ä¸Šå®ç°çš„ï¼Œåªä¸è¿‡æ˜¯GCDæ›´é«˜ä¸€å±‚çš„æŠ½è±¡ã€‚&emsp;&emsp;2&gt;ï¼Œåœ¨NSOperationQueueä¸­ï¼Œå¯ä»¥å»ºç«‹å„ä¸ªNSOperationä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚&emsp;&emsp;3&gt;NSOperationQueueæ”¯æŒKVOã€‚å¯ä»¥ç›‘æµ‹operationæ˜¯å¦æ­£åœ¨æ‰§è¡Œï¼ˆisExecutedï¼‰ã€æ˜¯å¦ç»“æŸï¼ˆisFinishedï¼‰ï¼Œæ˜¯å¦å–æ¶ˆï¼ˆisCanceldï¼‰&emsp;&emsp;4&gt;GCD åªæ”¯æŒFIFO çš„é˜Ÿåˆ—ï¼Œè€ŒNSOperationQueueå¯ä»¥è°ƒæ•´é˜Ÿåˆ—çš„æ‰§è¡Œé¡ºåºï¼ˆé€šè¿‡è°ƒæ•´æƒé‡ï¼‰ã€‚NSOperationQueueå¯ä»¥æ–¹ä¾¿çš„ç®¡ç†å¹¶å‘ã€NSOperationä¹‹é—´çš„ä¼˜å…ˆçº§ã€‚4)ä½¿ç”¨NSOperationçš„æƒ…å†µï¼šå„ä¸ªæ“ä½œä¹‹é—´æœ‰ä¾èµ–å…³ç³»ã€æ“ä½œéœ€è¦å–æ¶ˆæš‚åœã€å¹¶å‘ç®¡ç†ã€æ§åˆ¶æ“ä½œä¹‹é—´ä¼˜å…ˆçº§ï¼Œé™åˆ¶åŒæ—¶èƒ½æ‰§è¡Œçš„çº¿ç¨‹æ•°é‡.è®©çº¿ç¨‹åœ¨æŸæ—¶åˆ»åœæ­¢/ç»§ç»­ç­‰ã€‚5)ä½¿ç”¨GCDçš„æƒ…å†µï¼šä¸€èˆ¬çš„éœ€æ±‚å¾ˆç®€å•çš„å¤šçº¿ç¨‹æ“ä½œï¼Œç”¨GCDéƒ½å¯ä»¥äº†ï¼Œç®€å•é«˜æ•ˆã€‚ è®¾è®¡æ¨¡å¼ å•ä¾‹ï¼ˆè¿™ä¸ªéœ€è¦ä¼šå†™ï¼Œä¸¤ç§å†™æ³•ï¼Œå¥½å‡ æ¬¡è®©æ‰‹å†™1ï¼‰å†™æ³•ä¸€ï¼š//æä¾›ä¸€ä¸ªstaticä¿®é¥°çš„å…¨å±€å˜é‡ï¼Œå¼ºå¼•ç”¨ç€å·²ç»å®ä¾‹åŒ–çš„å•ä¾‹å¯¹è±¡å®ä¾‹ 123456789101112131415161718192021222324252627282930313233343536static FileManager* sharedInstance = nil;//ç±»æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªå•ä¾‹å¯¹è±¡+(FileManager*) sharedInstance&#123; @synchronized(self) &#123; if (sharedInstance == nil) &#123; sharedInstance = [[self alloc] init]; //æ³¨æ„ï¼šè¿™é‡Œå»ºè®®ä½¿ç”¨self,è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ç±»åToolsï¼ˆè€ƒè™‘ç»§æ‰¿ï¼‰ &#125; &#125; return sharedInstance;&#125;//ä¿è¯æ°¸è¿œåªåˆ†é…ä¸€æ¬¡å­˜å‚¨ç©ºé—´+(id)allocWithZone:(NSZone *)zone&#123; //ä½¿ç”¨åŠ é”çš„æ–¹å¼ï¼Œä¿è¯åªåˆ†é…ä¸€æ¬¡å­˜å‚¨ç©ºé—´ @synchronized(self)&#123; if(sharedInstance == nil)&#123; sharedInstance = [super allocWithZone:zone]; return sharedInstance; // assignment and return on first allocation &#125; &#125; return nil; //on subsequent allocation attempts return nil&#125;//è®©ä»£ç æ›´åŠ çš„ä¸¥è°¨-(id)copyWithZone:(NSZone *)zone&#123; return self;&#125;2ï¼‰å†™æ³•äºŒç”¨GCDstatic SwitchMenuViewModel * segTitles = nil;+(instancetype)sharedSegTitles&#123; static dispatch_once_t once; dispatch_once(&amp;once,^&#123; segTitles = [[SwitchMenuViewModel alloc]init]; &#125;); return segTitles;&#125; é€šçŸ¥NSNotification æ˜¯iOSä¸­ä¸€ä¸ªè°ƒåº¦æ¶ˆæ¯é€šçŸ¥çš„ç±»,é‡‡ç”¨å•ä¾‹æ¨¡å¼è®¾è®¡,åœ¨ç¨‹åºä¸­å®ç°ä¼ å€¼ã€å›è°ƒç­‰åœ°æ–¹åº”ç”¨å¾ˆå¹¿ã€‚åœ¨iOSä¸­ï¼ŒNSNotification &amp; NSNotificationCenteræ˜¯ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°çš„ç”¨äºè·¨å±‚ä¼ é€’æ¶ˆæ¯ã€‚å¯¹ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡æœ‰å¾…æ”¹å˜ï¼Œä¹Ÿä¸çŸ¥é“å¯¹è±¡æ˜¯ä»€ä¹ˆ&emsp;&emsp;1&gt; å‘è§‚å¯Ÿè€…ä¸­å¿ƒæ·»åŠ è§‚å¯Ÿè€… 123456789101112131415161718192021222324252627282930313233-(void)viewWillAppear:(BOOL)animated&#123; [super viewWillAppear:animated]; [self addNotifications];//æ·»åŠ é€šçŸ¥&#125;-(void)addNotifications&#123; //é€€å‡ºä¼ä¸š [[NSNotificationCenter defaultCenter] removeObserver:self name:NT_Exit_Company object:nil]; [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(ExitCompany:) name:NT_Exit_Company object:nil];&#125;// ç§»é™¤é€šçŸ¥-(void)viewWillDisappear:(BOOL)animated &#123; [super viewWillDisappear:animated]; [self removeNotifications];//æ·»åŠ é€šçŸ¥&#125;-(void)removeNotifications&#123; [[NSNotificationCenter defaultCenter]removeObserver:self name:NT_Exit_Company object:nil];&#125;&amp;emsp;&amp;emsp;2&gt; é€šçŸ¥ä¸­å¿ƒå‘è§‚å¯Ÿè€…å‘é€æ¶ˆæ¯[[NSNotificationCenter defaultCenter] postNotificationName:NT_Exit_Company object:dict];&amp;emsp;&amp;emsp;3&gt;å®ç°é€šçŸ¥ä¹‹åçš„æ“ä½œ// æ”¶åˆ°æ¨é€ä¹‹ååˆ·æ–°ç•Œé¢-(void)RefreashHomeVC:(NSNotification *) obj&#123; lable = obj.object; [self ToDetectNetWork];//é‡æ–°åŠ è½½&#125; Runtimeruntimeæ˜¯ä¸€å¥—åº•å±‚çš„Cè¯­è¨€APIï¼Œæ˜¯ä¸€ä¸ªå®ç°Objective-Cè¯­è¨€çš„Cåº“ã€‚å®ƒæ˜¯ä¸€é—¨ç¼–è¯‘å‹è¯­è¨€ã€ä¹Ÿæ˜¯ä¸€é—¨åŠ¨æ€å‹çš„è¯­è¨€ï¼ˆè¿™é‡Œå¼ºè°ƒä¸‹OCæ˜¯é™æ€ç±»å‹è¯­è¨€ï¼‰ï¼ŒOCä¹‹æ‰€ä»¥èƒ½å¤Ÿåšåˆ°å³æ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œåˆèƒ½åšåˆ°åŠ¨æ€è¯­è¨€ï¼Œå°±æ˜¯å¾—ç›Šäºruntimeçš„æœºåˆ¶ã€‚æ‰€è°“runtimeæœºåˆ¶å°±æ˜¯åœ¨Cè¯­è¨€é‡Œè¾¹çš„å‡½æ•°è°ƒç”¨åˆ°äº†OCé‡Œè¾¹å°±å˜æˆäº†å¦å¤–ä¸€ä¸ªåå­—ï¼Œç§°ä¹‹ä¸ºæ¶ˆæ¯å‘é€ã€‚å³objc_msgSendï¼Œè¿™å°±æ˜¯åˆ©ç”¨äº†runtimeçš„æ¶ˆæ¯æœºåˆ¶ç‰¹æ€§ï¼Œå®Œæˆäº†ä¸€ä¸ªåŠ¨æ€è°ƒç”¨çš„è¿‡ç¨‹ã€‚è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„ä½œç”¨ï¼Œå¯ä»¥äº¤æ¢ä¸¤ä¸ªæ–¹æ³•çš„å®ç°ï¼Œä»£ç æ˜¯ï¼šmethod_exchangeImplementations æ€§èƒ½ä¼˜åŒ– ç”¨ARCç®¡ç†å†…å­˜ åœ¨æ­£ç¡®çš„åœ°æ–¹ä½¿ç”¨ reuseIdentifier å°½é‡æŠŠviewsè®¾ç½®ä¸ºé€æ˜ é¿å…è¿‡äºåºå¤§çš„XIB ä¸è¦é˜»å¡ä¸»çº¿ç¨‹ åœ¨Image Viewsä¸­è°ƒæ•´å›¾ç‰‡å¤§å° é€‰æ‹©æ­£ç¡®çš„ä½¿ç”¨Collection é‡ç”¨å’Œå»¶è¿ŸåŠ è½½(lazy load) Views é¿å…æ—¥æœŸæ ¼å¼è½¬æ¢ æ¸²æŸ“æ–¹æ³• å¤„ç†å†…å­˜è­¦å‘Š é¿å…åå¤å¤„ç†æ•°æ® é€‰æ‹©æ­£ç¡®çš„æ•°æ®æ ¼å¼ æ­£ç¡®è®¾å®šèƒŒæ™¯å›¾ç‰‡ å‡å°‘ä½¿ç”¨Webç‰¹æ€§ ä¼˜åŒ–Table View ä½¿ç”¨Autorelease Pool é€‰æ‹©æ˜¯å¦ç¼“å­˜å›¾ç‰‡ NSTimer ï¼ˆè¿™ä¸ªè¢«é—®çš„å¤šï¼‰ Nstimerè®¡æ—¶ä¸€å®šæ˜¯å®‰å…¨çš„å—ï¼Œä¸å®‰å…¨æ€ä¹ˆåŠç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œè€Œä¸”æœ‰æ—¶å€™ä½ ä¼šå‘ç°å®é™…çš„è§¦å‘æ—¶é—´è·Ÿä½ æƒ³è±¡çš„å·®è·è¿˜æ¯”è¾ƒå¤§ã€‚NSTimerä¸æ˜¯ä¸€ä¸ªå®æ—¶ç³»ç»Ÿï¼Œå› æ­¤ä¸ç®¡æ˜¯ä¸€æ¬¡æ€§çš„è¿˜æ˜¯å‘¨æœŸæ€§çš„timerçš„å®é™…è§¦å‘äº‹ä»¶çš„æ—¶é—´å¯èƒ½éƒ½ä¼šè·Ÿæˆ‘ä»¬é¢„æƒ³çš„ä¼šæœ‰å‡ºå…¥ã€‚å·®è·çš„å¤§å°è·Ÿå½“å‰æˆ‘ä»¬ç¨‹åºçš„æ‰§è¡Œæƒ…å†µæœ‰å…³ç³»ï¼Œæ¯”å¦‚å¯èƒ½ç¨‹åºæ˜¯å¤šçº¿ç¨‹çš„ï¼Œè€Œä½ çš„timeråªæ˜¯æ·»åŠ åœ¨æŸä¸€ä¸ªçº¿ç¨‹çš„runloopçš„æŸä¸€ç§æŒ‡å®šçš„runloopmodeä¸­ï¼Œç”±äºå¤šçº¿ç¨‹é€šå¸¸éƒ½æ˜¯åˆ†æ—¶æ‰§è¡Œçš„ï¼Œè€Œä¸”æ¯æ¬¡æ‰§è¡Œçš„modeä¹Ÿå¯èƒ½éšç€å®é™…æƒ…å†µå‘ç”Ÿå˜åŒ–ã€‚å‡è®¾ä½ æ·»åŠ äº†ä¸€ä¸ªtimeræŒ‡å®š2ç§’åè§¦å‘æŸä¸€ä¸ªäº‹ä»¶ï¼Œä½†æ˜¯ç­¾å¥½é‚£ä¸ªæ—¶å€™å½“å‰çº¿ç¨‹åœ¨æ‰§è¡Œä¸€ä¸ªè¿ç»­è¿ç®—(ä¾‹å¦‚å¤§æ•°æ®å—çš„å¤„ç†ç­‰)ï¼Œè¿™ä¸ªæ—¶å€™timerå°±ä¼šå»¶è¿Ÿåˆ°è¯¥è¿ç»­è¿ç®—æ‰§è¡Œå®Œä»¥åæ‰ä¼šæ‰§è¡Œã€‚é‡å¤æ€§çš„timeré‡åˆ°è¿™ç§æƒ…å†µï¼Œå¦‚æœå»¶è¿Ÿè¶…è¿‡äº†ä¸€ä¸ªå‘¨æœŸï¼Œåˆ™ä¼šå’Œåé¢çš„è§¦å‘è¿›è¡Œåˆå¹¶ï¼Œå³åœ¨ä¸€ä¸ªå‘¨æœŸå†…åªä¼šè§¦å‘ä¸€æ¬¡ã€‚ä½†æ˜¯ä¸ç®¡è¯¥timerçš„è§¦å‘æ—¶é—´å»¶è¿Ÿçš„æœ‰å¤šç¦»è°±ï¼Œä»–åé¢çš„timerçš„è§¦å‘æ—¶é—´æ€»æ˜¯å€æ•°äºç¬¬ä¸€æ¬¡æ·»åŠ timerçš„é—´éš™ nstimeråœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåº”è¯¥æ³¨æ„ä»€ä¹ˆ1ï¼‰å¿…é¡»å¾—æŠŠtimeræ·»åŠ åˆ°runloopä¸­ï¼Œå®ƒæ‰ä¼šç”Ÿæ•ˆ2ï¼‰è¦è®©timerç”Ÿæ•ˆï¼Œå¿…é¡»ä¿è¯è¯¥çº¿ç¨‹çš„runloopå·²å¯åŠ¨ï¼Œè€Œä¸”å…¶è¿è¡Œçš„runloopmodeä¹Ÿè¦åŒ¹é…3ï¼‰åˆ’åŠ¨ä¸‹é¢çš„tableviewæ²¡æœ‰å˜åŒ–ï¼Œæ˜¯ä¸ºä»€ä¹ˆï¼Ÿ**ç»å¸¸è¢«é—®åˆ°è¿™ä¸ªé—®é¢˜åœ¨tableviewæ»‘åŠ¨æ—¶timerå°±æ˜¯æ˜¾ç¤ºæš‚åœï¼ŒåŸå› æ˜¯timerçš„è¿™ä¸ªç®€ä¾¿æ„é€ æ–¹æ³•æŠŠtimeråŠ å…¥äº†NSRunLoopDefaultModeä¸Šï¼Œè€Œtableviewåœ¨æ»‘åŠ¨æ—¶åªä¼šå¤„ç†UITrackingRunLoopModeï¼ŒRunLoopå¹¶æ²¡æœ‰å¤„ç†timeräº‹ä»¶ã€‚è§£å†³çš„åŠæ³•æ˜¯å°†timerç»‘å®šåˆ°NSRunLoopCommonModesä¸Šï¼Œé€šè¿‡ä»¥ä¸‹æ–¹æ³•æ„é€ timerï¼šnstimeråœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåº”è¯¥æ³¨æ„ä»€ä¹ˆ å»¶ä¼¸é—®é¢˜: ä»€ä¹ˆæ˜¯æ­»é”ï¼Œä¸¾ä¾‹è¯´æ˜äº’æ–¥é”è§£å†³äº†ç«æ€æ¡ä»¶çš„é—®é¢˜ï¼Œä½†å¾ˆä¸å¹¸åŒæ—¶è¿™ä¹Ÿå¼•å…¥äº†ä¸€äº›å…¶ä»–é—®é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªå°±æ˜¯æ­»é”ã€‚å½“å¤šä¸ªçº¿ç¨‹åœ¨ç›¸äº’ç­‰å¾…ç€å¯¹æ–¹çš„ç»“æŸæ—¶ï¼Œå°±ä¼šå‘ç”Ÿæ­»é”ï¼Œè¿™æ—¶ç¨‹åºå¯èƒ½ä¼šè¢«å¡ä½æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š 12345dispatch_sync(_queue, ^&#123; &amp;emsp;dispatch_sync(_queue, ^&#123; //do something &#125;);&#125;) frameå’Œboundsçš„åŒºåˆ«frameæ˜¯æŒ‡çš„è¯¥viewåœ¨çˆ¶viewåæ ‡ç³»ç»Ÿä¸­çš„ä½ç½®å’Œå¤§å°boundsæ˜¯è¯¥viewåœ¨æœ¬èº«åæ ‡ç³»ç»Ÿä¸­çš„ä½ç½®å’Œå¤§å° ä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼ˆç¬”è¯•ï¼‰ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€åŒæ­¥åºåˆ—ç¼–å·åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥å‘é€çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°åŒæ­¥åºåˆ—ç¼–å·ï¼Œç¡®è®¤å¹¶åŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªåŒæ­¥åºåˆ—ç¼–å·ï¼Œ+ç¡®è®¤æ ‡å¿—ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥æ¥å—çŠ¶æ€ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨å‘é€çš„åŒ…ï¼Œå¹¶å‘æœåŠ¡å™¨å‘é€ç¡®è®¤æ ‡å¿—ï¼Œéšåé“¾æ¥æˆåŠŸã€‚ æœ‰a b c d å››ä¸ªå¼‚æ­¥è¯·æ±‚ï¼Œå¦‚ä½•åœ¨a b c éƒ½å®Œæˆä¹‹åå»æ‰§è¡Œd 1234567891011121) åˆ›å»ºé˜Ÿåˆ—queue dispatch_queue_t queue = (dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT,0))2) åˆ›å»ºç»„group dispatch_group_t group = dispatch_group_creat();3) å°†queueå’ŒgroupåŠ å…¥åˆ°æ‰§è¡Œçš„ä»»åŠ¡ä¸­ å¹¶æ‰§è¡Œa b cdispatch_group_async(group,queue,^&#123;//ä»»åŠ¡a&#125;)dispatch_group_async(group,queue,^&#123;//ä»»åŠ¡b&#125;)dispatch_group_async(group,queue,^&#123;//ä»»åŠ¡c&#125;)4) å®Œäº†ä¹‹åå¼•ç”¨dispatch_group_notify(group,dispatch_get_main_queue()),^&#123; //æ‰§è¡Œdæ“ä½œ&#125;); UIView å’Œ CALayerçš„åŒºåˆ« UIViewé›†æˆUIResponderï¼Œå› æ­¤UIViewå¯ä»¥å¤„ç†å“åº”æ—¶é—´ï¼Œè€ŒCALayeré›†æˆNSObjectï¼Œæ‰€ä»¥å®ƒåªè´Ÿè´£å†…å®¹çš„åˆ›å»ºã€ç»˜åˆ¶ã€‚ UIViewè´Ÿè´£å¯¹å†…å®¹çš„ç®¡ç†ï¼Œè€ŒCALayeråˆ™æ˜¯å¯¹å†…å®¹çš„ç»˜åˆ¶ã€‚ UIViewä¸­çš„ä½ç½®å±æ€§åªæœ‰frameã€boundsã€centerï¼Œè€ŒCALyaeré™¤äº†å…·å¤‡è¿™äº›å±æ€§ä¹‹å¤–è¿˜æœ‰anchorPointã€positionã€‚ é€šè¿‡ä¿®æ”¹CALayerå¯ä»¥å®ç°UIViewæ— æ³•å®ç°çš„å¾ˆå¤šé«˜çº§åŠŸèƒ½ã€‚]]></content>
      <categories>
        <category>é¢è¯•é¢˜</category>
      </categories>
      <tags>
        <tag>é¢è¯•é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSå¼€å‘å¸¸è§bug]]></title>
    <url>%2F2018%2F03%2F26%2Fquestion%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶Alamofireã€Kingfisher ç­‰ç­‰æ—¶æŠ¥é”™dyld: Library not loaded Reason: image not found åœ¨Xcodeä¸­çš„Build Phasesä¸­çš„Copy Filesé¡¹ä¸­ï¼Œå°†ä½ è¦å¼•ç”¨çš„frameworkæ‹–åˆ°â€œLinked Frameworks and Librariesâ€œä¸­ æŠŠBuild Phases é‡ŒSocial.frameworkåè¾¹çš„é€‰é¡¹ä¿®æ”¹æˆä¸ºOptionalå°±å¯ä»¥äº† Swift4.0 ä¸­ä½¿ç”¨KVCç»™modelèµ‹å€¼æ—¶æ— æ³•èµ‹å€¼ åœ¨modelä¸­ç»™å±æ€§å‰æ·»åŠ @objcå…³é”®å­— åœ¨iOS 11ä¸Šç»™navigationBarçš„titleViewæ·»åŠ searchBarå¯¼è‡´navigationBaré«˜åº¦å¢é«˜ è‡ªå®šä¹‰ä¸€ä¸ªviewï¼Œç„¶åå°†searchBaræ·»åŠ åˆ°è‡ªå®šä¹‰viewä¸Šï¼Œå†å°†è‡ªå®šä¹‰viewèµ‹å€¼ç»™titleView UISearchBarè¿›å…¥ç¼–è¾‘çŠ¶æ€æ—¶å‘ä¸Šåç§»è®¾ç½®searchController.hidesNavigationBarDuringPresentation = NO; UISearchControllerå–æ¶ˆé®ç›–è’™ç‰ˆè®¾ç½®searchController.dimsBackgroundDuringPresentation = NO; å¦‚ä½•ç›‘å¬UISearchControlleré®ç›–ç‚¹å‡»äº‹ä»¶ç‚¹å‡»é®ç›–æ—¶å°±æ˜¯å°†searchControlleréšè—ã€æ‰€ä»¥ç›‘å¬UISearchControlleræ¶ˆå¤±çš„äº‹ä»¶å³å¯ (void)willDismissSearchController:(UISearchController *)searchController{ // TODO:} è§£å†³tableViewçš„sectionIndexå’ŒsearchBarå†²çªé—®é¢˜æŠŠsearchBaråŠ åœ¨ä¸€ä¸ªUIViewä¸Šï¼Œç„¶åæŠŠUIViewåŠ åœ¨tableHeaderViewä¸Šï¼ŒåŒæ—¶sectionIndexèƒŒæ™¯è‰²è¦æ¸…é™¤ UIView *headerView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, kScreen_width, 56)];[headerView addSubview:self.searchController.searchBar];[self.tableView setTableHeaderView:headerView]; [self.tableView setSectionIndexBackgroundColor:[UIColor clearColor]];]]></content>
      <categories>
        <category>Bug</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo+Coding.net/Githubæ­å»ºè‡ªå·±çš„åšå®¢]]></title>
    <url>%2F2018%2F03%2F02%2FSetBlog%2F</url>
    <content type="text"><![CDATA[å› ä¸ºgitHubæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œè€Œä¸”gitHubä¸è®©ç™¾åº¦çš„çˆ¬è™«çˆ¬å–å†…å®¹ï¼Œå¯¼è‡´äº†æ­å»ºåœ¨gitHubä¸Šçš„åšå®¢è®¿é—®é€Ÿåº¦éå¸¸æ…¢ï¼Œåšå®¢ä¸ä¼šè¢«ç™¾åº¦æœç´¢åˆ°ã€‚æ‰€ä»¥å»ºè®®é€‰æ‹©å›½å†…çš„Coding.netæ¥æ­å»ºåšå®¢ã€‚æ­å»ºæ–¹æ³•å‡ ä¹æ˜¯ä¸€è‡´çš„ã€‚ä¸‹é¢è®²ä¸€ä¸‹å¦‚ä½•åŸºäºCoding.netæ­å»ºè‡ªå·±çš„åšå®¢ã€‚ å®‰è£…Hexo1$ npm install hexo-cli -g åˆå§‹åŒ–blog1$ hexo init blog å¯åŠ¨é¢„è§ˆblog12$ cd blog$ hexo server åœ¨æµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:4000/ æ˜¾ç¤ºå¦‚ä¸‹å›¾å°±æˆåŠŸäº† è®¾ç½®33ç§ä¸»é¢˜æ ·å¼æ­å»ºåšå®¢å¤§å…¨]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F03%2F02%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>è®°äº‹</tag>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F404.html</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE HTML&gt;]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Fcategories%2Findex.html</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[å…³äºæœ¬ç«™]]></title>
    <url>%2Fabout%2Findex.html</url>
    <content type="text"><![CDATA[åšå®¢å®—æ—¨: æŠŠæœ€å®ç”¨çš„ç»éªŒï¼Œåˆ†äº«ç»™æœ€éœ€è¦çš„è¯»è€…ï¼Œå¸Œæœ›æ¯ä¸€ä½æ¥è®¿çš„æœ‹å‹éƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Ftags%2Findex.html</url>
    <content type="text"></content>
  </entry>
</search>
